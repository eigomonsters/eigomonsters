{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// ゲーム開始画面から遷移してきた際に処理を実施する。\nwindow.addEventListener('load', function () {\n  // Enterを押下するとゲーム開始のカウントダウンがスタートする処理を呼び出す。\n  document.addEventListener(\"keydown\", keyDownGameStart);\n}); // スペースかEnterキー押下によるゲームスタートを一回限りとするフラグを設定する。\n\nvar gameStartEnterOnlyOnce = \"0\"; // スペースかEnterキーを押下するとゲーム開始のカウントダウンがスタートする。\n\nfunction keyDownGameStart(keyDownEnter) {\n  if ((keyDownEnter.key === 'Enter' || keyDownEnter.key === \" \") && gameStartEnterOnlyOnce == \"0\") {\n    // 表示されている文字を非表示にする。\n    document.getElementById(\"useKeyboardPopup\").className = \"transparent\";\n    document.getElementById(\"pressEnterPopup\").className = \"transparent\";\n    document.getElementById(\"annotationAudio\").className = \"transparent\";\n    document.getElementById(\"backBtnTypingPlay\").className = \"transparent\";\n    gameStartEnterOnlyOnce = \"1\";\n    gameStart();\n  }\n\n  ;\n}\n\n; // 選択した英単語難易度によって変わるwordListの定義\n\nvar wordList = gon.wordListAll; // 選択したプレイモードによって変わるplayModeの定義\n\nvar playMode = gon.playMode; // 出題順の設定によって変わるpronounceModeの定義\n\nvar questionOrderMode = gon.questionOrderMode; // 英単語の発音有無の設定によって変わるpronounceModeの定義\n\nvar pronounceMode = gon.pronounceMode; // BGMの設定によって変わるbgmModeの定義\n\nvar bgmMode = gon.bgmMode; // タイプ音の設定によって変わるtypeAudioModeの定義\n\nvar typeAudioMode = gon.typeAudioMode; // 正解音の設定によって変わるcorrectAudioModeの定義\n\nvar correctAudioMode = gon.correctAudioMode; // ミス音の設定によって変わるincorrectAudioModeの定義\n\nvar incorrectAudioMode = gon.incorrectAudioMode;\n\nfunction gameStart() {\n  var _romaMappingTableFirs;\n\n  // 表示する単語リストを定義する。\n  // chromeの場合\"ff\"が正常に動作しない。\n  // 表示するメーターリストを定義する。\n  var imgArray = ['/assets/メーターPNG/メーター0.png', '/assets/メーターPNG/メーター10_yellow.png', '/assets/メーターPNG/メーター20_yellow.png', '/assets/メーターPNG/メーター30_yellow.png', '/assets/メーターPNG/メーター40_yellow.png', '/assets/メーターPNG/メーター50_yellow.png', '/assets/メーターPNG/メーター60_yellow.png', '/assets/メーターPNG/メーター70_yellow.png', '/assets/メーターPNG/メーター80_yellow.png', '/assets/メーターPNG/メーター90_yellow.png', '/assets/メーターPNG/メーター100_yellow.png', '/assets/メーターPNG/メーター10_green.png', '/assets/メーターPNG/メーター20_green.png', '/assets/メーターPNG/メーター30_green.png', '/assets/メーターPNG/メーター40_green.png', '/assets/メーターPNG/メーター50_green.png', '/assets/メーターPNG/メーター60_green.png', '/assets/メーターPNG/メーター70_green.png', '/assets/メーターPNG/メーター80_green.png', '/assets/メーターPNG/メーター90_green.png', '/assets/メーターPNG/メーター100_green.png', '/assets/メーターPNG/メーター10_blue.png', '/assets/メーターPNG/メーター20_blue.png', '/assets/メーターPNG/メーター30_blue.png', '/assets/メーターPNG/メーター40_blue.png', '/assets/メーターPNG/メーター50_blue.png', '/assets/メーターPNG/メーター60_blue.png', '/assets/メーターPNG/メーター70_blue.png', '/assets/メーターPNG/メーター80_blue.png', '/assets/メーターPNG/メーター90_blue.png', '/assets/メーターPNG/メーター100_blue.png', '/assets/メーターPNG/メーター10_pink.png', '/assets/メーターPNG/メーター20_pink.png', '/assets/メーターPNG/メーター30_pink.png', '/assets/メーターPNG/メーター40_pink.png', '/assets/メーターPNG/メーター50_pink.png', '/assets/メーターPNG/メーター60_pink.png', '/assets/メーターPNG/メーター70_pink.png', '/assets/メーターPNG/メーター80_pink.png', '/assets/メーターPNG/メーター90_pink.png', '/assets/メーターPNG/メーター100_pink.png', '/assets/メーターPNG/メーター10_red.png', '/assets/メーターPNG/メーター20_red.png', '/assets/メーターPNG/メーター30_red.png', '/assets/メーターPNG/メーター40_red.png', '/assets/メーターPNG/メーター50_red.png', '/assets/メーターPNG/メーター60_red.png', '/assets/メーターPNG/メーター70_red.png', '/assets/メーターPNG/メーター80_red.png', '/assets/メーターPNG/メーター90_red.png', '/assets/メーターPNG/メーター100_red.png'];\n  var romaMappingTableFirst = (_romaMappingTableFirs = {\n    \"あ\": \"a\",\n    \"い\": \"i\",\n    \"う\": \"u\",\n    \"え\": \"e\",\n    \"お\": \"o\",\n    \"か\": \"ka\",\n    \"き\": \"ki\",\n    \"く\": \"ku\",\n    \"け\": \"ke\",\n    \"こ\": \"ko\",\n    \"さ\": \"sa\",\n    \"し\": \"si\",\n    \"す\": \"su\",\n    \"せ\": \"se\",\n    \"そ\": \"so\",\n    \"た\": \"ta\",\n    \"ち\": \"ti\",\n    \"つ\": \"tu\",\n    \"て\": \"te\",\n    \"と\": \"to\",\n    \"な\": \"na\",\n    \"に\": \"ni\",\n    \"ぬ\": \"nu\",\n    \"ね\": \"ne\",\n    \"の\": \"no\",\n    \"は\": \"ha\",\n    \"ひ\": \"hi\",\n    \"ふ\": \"hu\",\n    \"へ\": \"he\",\n    \"ほ\": \"ho\",\n    \"ま\": \"ma\",\n    \"み\": \"mi\",\n    \"む\": \"mu\",\n    \"め\": \"me\",\n    \"も\": \"mo\",\n    \"や\": \"ya\",\n    \"ゆ\": \"yu\",\n    \"よ\": \"yo\",\n    \"ら\": \"ra\",\n    \"り\": \"ri\",\n    \"る\": \"ru\",\n    \"れ\": \"re\",\n    \"ろ\": \"ro\",\n    \"わ\": \"wa\",\n    \"を\": \"wo\",\n    \"が\": \"ga\",\n    \"ぎ\": \"gi\",\n    \"ぐ\": \"gu\",\n    \"げ\": \"ge\",\n    \"ご\": \"go\",\n    \"ざ\": \"za\",\n    \"じ\": \"zi\",\n    \"ず\": \"zu\",\n    \"ぜ\": \"ze\",\n    \"ぞ\": \"zo\",\n    \"だ\": \"da\",\n    \"ぢ\": \"di\",\n    \"づ\": \"du\",\n    \"で\": \"de\",\n    \"ど\": \"do\",\n    \"ば\": \"ba\",\n    \"び\": \"bi\",\n    \"ぶ\": \"bu\",\n    \"べ\": \"be\",\n    \"ぼ\": \"bo\",\n    \"ぱ\": \"pa\",\n    \"ぴ\": \"pi\",\n    \"ぷ\": \"pu\",\n    \"ぺ\": \"pe\",\n    \"ぽ\": \"po\",\n    \"ぁ\": \"la\",\n    \"ぃ\": \"li\",\n    \"ぅ\": \"lu\",\n    \"ぇ\": \"le\",\n    \"ぉ\": \"lo\",\n    \"ゃ\": \"lya\",\n    \"ゅ\": \"lyu\",\n    \"ょ\": \"lyo\",\n    \"でゃ\": \"dha\",\n    \"でぃ\": \"dhi\",\n    \"でゅ\": \"dhu\",\n    \"でぇ\": \"dhe\",\n    \"でょ\": \"dho\",\n    \"つぁ\": \"tsa\",\n    \"つぃ\": \"tsi\",\n    \"つぇ\": \"tse\",\n    \"つぉ\": \"tso\",\n    \"てゃ\": \"tha\",\n    \"てぃ\": \"thi\",\n    \"てゅ\": \"thu\",\n    \"てぇ\": \"the\",\n    \"てょ\": \"tho\",\n    \"ふぁ\": \"fa\",\n    \"ふぃ\": \"fi\",\n    \"ふぇ\": \"fe\",\n    \"ふぉ\": \"fo\",\n    \"うぁ\": \"wha\",\n    \"うぃ\": \"wi\",\n    \"うぇ\": \"we\",\n    \"うぉ\": \"who\",\n    \"ゔぁ\": \"va\",\n    \"ゔぃ\": \"vi\",\n    \"ゔ\": \"vu\",\n    \"ゔぇ\": \"ve\",\n    \"ゔぉ\": \"vo\",\n    \"きゃ\": \"kya\",\n    \"きぃ\": \"kyi\",\n    \"きゅ\": \"kyu\",\n    \"きぇ\": \"kye\",\n    \"きょ\": \"kyo\",\n    \"ぎゃ\": \"gya\",\n    \"ぎぃ\": \"gyi\",\n    \"ぎゅ\": \"gyu\",\n    \"ぎぇ\": \"gye\",\n    \"ぎょ\": \"gyo\",\n    \"しゃ\": \"sya\",\n    \"しぃ\": \"syi\",\n    \"しゅ\": \"syu\",\n    \"しぇ\": \"sye\",\n    \"しょ\": \"syo\",\n    \"じゃ\": \"zya\",\n    \"じぃ\": \"zyi\",\n    \"じゅ\": \"zyu\",\n    \"じぇ\": \"zye\",\n    \"じょ\": \"zyo\",\n    \"ちゃ\": \"tya\",\n    \"ちぃ\": \"tyi\",\n    \"ちゅ\": \"tyu\",\n    \"ちぇ\": \"tye\",\n    \"ちょ\": \"tyo\",\n    \"ぢゃ\": \"dya\",\n    \"ぢぃ\": \"dyi\",\n    \"ぢゅ\": \"dyu\",\n    \"ぢぇ\": \"dye\",\n    \"ぢょ\": \"dyo\",\n    \"にゃ\": \"nya\",\n    \"にぃ\": \"nyi\",\n    \"にゅ\": \"nyu\",\n    \"にぇ\": \"nye\",\n    \"にょ\": \"nyo\",\n    \"ひゃ\": \"hya\",\n    \"ひぃ\": \"hyi\",\n    \"ひゅ\": \"hyu\",\n    \"ひぇ\": \"hye\",\n    \"ひょ\": \"hyo\",\n    \"びゃ\": \"bya\",\n    \"びぃ\": \"byi\",\n    \"びゅ\": \"byu\",\n    \"びぇ\": \"bye\",\n    \"びょ\": \"byo\",\n    \"ぴゃ\": \"pya\",\n    \"ぴぃ\": \"pyi\",\n    \"ぴゅ\": \"pyu\",\n    \"ぴぇ\": \"pye\",\n    \"ぴょ\": \"pyo\",\n    \"ふゃ\": \"fya\"\n  }, _defineProperty(_romaMappingTableFirs, \"\\u3075\\u3043\", \"fyi\"), _defineProperty(_romaMappingTableFirs, \"ふゅ\", \"fyu\"), _defineProperty(_romaMappingTableFirs, \"\\u3075\\u3047\", \"fye\"), _defineProperty(_romaMappingTableFirs, \"ふょ\", \"fyo\"), _defineProperty(_romaMappingTableFirs, \"みゃ\", \"mya\"), _defineProperty(_romaMappingTableFirs, \"みぃ\", \"myi\"), _defineProperty(_romaMappingTableFirs, \"みゅ\", \"myu\"), _defineProperty(_romaMappingTableFirs, \"みぇ\", \"mye\"), _defineProperty(_romaMappingTableFirs, \"みょ\", \"myo\"), _defineProperty(_romaMappingTableFirs, \"りゃ\", \"rya\"), _defineProperty(_romaMappingTableFirs, \"りぃ\", \"ryi\"), _defineProperty(_romaMappingTableFirs, \"りゅ\", \"ryu\"), _defineProperty(_romaMappingTableFirs, \"りぇ\", \"rye\"), _defineProperty(_romaMappingTableFirs, \"りょ\", \"ryo\"), _defineProperty(_romaMappingTableFirs, \"くぁ\", \"kwa\"), _defineProperty(_romaMappingTableFirs, \"ぐぁ\", \"gwa\"), _defineProperty(_romaMappingTableFirs, \"とぅ\", \"twu\"), _defineProperty(_romaMappingTableFirs, \"どぅ\", \"dwu\"), _defineProperty(_romaMappingTableFirs, \"いぇ\", \"ye\"), _defineProperty(_romaMappingTableFirs, \"ー\", \"-\"), _romaMappingTableFirs);\n  var romaMappingTableSecond = {\n    \"い\": \"yi\",\n    \"か\": \"ca\",\n    \"く\": \"cu\",\n    \"こ\": \"co\",\n    \"し\": \"shi\",\n    \"せ\": \"ce\",\n    \"ち\": \"chi\",\n    \"つ\": \"tsu\",\n    \"ふ\": \"fu\",\n    \"じ\": \"ji\",\n    \"ぁ\": \"xa\",\n    \"ぃ\": \"xi\",\n    \"ぅ\": \"xu\",\n    \"ぇ\": \"xe\",\n    \"ぉ\": \"xo\",\n    \"ゃ\": \"xya\",\n    \"ゅ\": \"xyu\",\n    \"ょ\": \"xyo\",\n    \"しゃ\": \"sha\",\n    \"しゅ\": \"shu\",\n    \"しぇ\": \"she\",\n    \"しょ\": \"sho\",\n    \"じゃ\": \"ja\",\n    \"じぃ\": \"jyi\",\n    \"じゅ\": \"ju\",\n    \"じぇ\": \"je\",\n    \"じょ\": \"jo\",\n    \"ちゃ\": \"cha\",\n    \"ちぃ\": \"cyi\",\n    \"ちゅ\": \"chu\",\n    \"ちぇ\": \"che\",\n    \"ちょ\": \"cho\",\n    \"うぃ\": \"whi\",\n    \"うぇ\": \"whe\"\n  };\n  var romaMappingTableThird = {\n    \"し\": \"ci\",\n    \"じゃ\": \"jya\",\n    \"じゅ\": \"jyu\",\n    \"じぇ\": \"jye\",\n    \"じょ\": \"jyo\",\n    \"ちゃ\": \"cya\",\n    \"ちゅ\": \"cyu\",\n    \"ちぇ\": \"cye\",\n    \"ちょ\": \"cyo\"\n  }; // タイピングの正誤判定に使用する変数を定義する。\n\n  var wordLetterWithSmallLetter = \"\";\n  var wordLetterSole = \"\";\n  var charArrayInDisplayWordAlphaFirst = [];\n  var charArrayInDisplayWordAlphaSecond = [];\n  var charArrayInDisplayWordAlphaThird = [];\n  var charArrayInDisplayWordAlphaSole = [];\n  var charArrayInDisplayWordAlphaSoleSecond = [];\n  var charArrayInDisplayWordAlphaSoleThird = [];\n  var shiftAlreadyStartedCountAll = 0;\n  var shiftAlreadyStartedCountFirst = 0;\n  var shiftAlreadyStartedCountSecond = 0;\n  var shiftAlreadyStartedCountThird = 0;\n  var shiftAlreadyStartedCountSoleFirst = 0;\n  var shiftAlreadyStartedCountSoleSecond = 0;\n  var shiftAlreadyStartedCountSoleThird = 0;\n  var keyTempForSmallTsuPreWithNext = \"\";\n  var keyTempForSmallTsuPreFirst = \"\";\n  var keyTempForSmallTsuPreSecond = \"\";\n  var keyTempForSmallTsuPreThird = \"\";\n  var keyTempForNnPre = \"\"; // 英単語を順番に出題する場合の番号の初期値を定義する。\n\n  var sortById = 0; // 英単語の出題順の初期値を定義する。\n\n  var eachQuestionOrder = 0; // 表示するメーター初期値を定義する。\n\n  var bonusCountMeter = 0; // 表示するメーター最大値を定義する。\n\n  var bonusCountMeterMax = 50; // 表示するプレイ延長時間を定義する。\n\n  var displayBonusAddPlayTime = document.getElementById(\"displayBonusAddPlayTime\");\n  displayBonusAddPlayTime.className = \"displayBonusAddPlayTime\"; // メーター最大値に達した際の延長するプレイ時間を定義する。\n\n  var bonusAddPlayTime = 3000; // メーターの初期値を表示する。\n\n  document.getElementById(\"meterImg\").src = imgArray[bonusCountMeter]; // ゲーム開始までをカウントダウン変数を定義する。\n\n  var countDownPopup = document.getElementById(\"countDownPopup\"); // class属性を付与する。\n\n  countDownPopup.className = \"countDownPopup\"; // ゲーム開始までをカウントダウン変数の初期値を定義する。\n\n  var countDownPopupNumber = 3; // ゲーム開始までをカウントダウン変数の初期値を表示する。\n\n  countDownPopup.textContent = countDownPopupNumber; // ゲーム開始までをカウントダウンを1秒ごとに実施するように定義する。\n\n  var timerIdToStart = setInterval(countDownTimeToStart, 1000); // ゲーム開始までをカウントダウンを実施する処理を定義する。\n\n  function countDownTimeToStart() {\n    // カウントダウン文字を１ずつ減らす。\n    countDownPopupNumber = countDownPopupNumber - 1; //カウントダウンが0になれば、ゲームを開始する。\n\n    if (countDownPopupNumber <= 0) {\n      clearInterval(timerIdToStart); // カウントダウンポップアップのクラスを変更し、非表示にする。\n\n      countDownPopup.className = \"countDownPopupAfterClose\";\n      typingPlayStart();\n    } else {\n      countDownPopup.textContent = countDownPopupNumber;\n    }\n  } // ゲームを開始する処理を定義する。\n\n\n  function typingPlayStart() {\n    // 表示する単語を定義する。\n    var displayWord = document.getElementById(\"displayWord\");\n    displayWord.className = \"displayWord\";\n    var displayWordEnglish = document.getElementById(\"displayWordEnglish\");\n    displayWordEnglish.className = \"displayWordEnglish\";\n    var displayWordKanji = document.getElementById(\"displayWordKanji\");\n    displayWordKanji.className = \"displayWordKanji\"; // 表示する単語を一文字ずつに分ける変数を定義する。\n\n    var charArrayInDisplayWordJap = []; // 出題した英単語を格納する配列を定義する。\n\n    var allQuestionWords = []; // 出題したすべての英単語を格納する配列を定義する。\n\n    var allQuestionWordsList = []; // ゲーム終了を判定するフラグを定義する。\n\n    var playEndFlag = \"0\"; // 「答えを見る」ボタン押下有無を判定するフラグを定義する。\n\n    var answerOpenFlag = \"0\"; // プレイモード：タイムアタックですべての出題範囲に解答済み判定フラグを設定する。\n\n    var gameCompleteTimeAttackFlag = \"0\"; // 問題を作成した時間を定義する。\n\n    var eachQuestionCreateTime = 0; // 問題を解答するのに要した時間を定義する。\n\n    var eachQuestionAnswerTime = 0; // 表示する単語を作成する。\n\n    createDisplayWord(); // プレイ開始時間を取得する。\n\n    var startTime = Date.now(); // 表示する残りのプレイ可能時間を定義する。\n\n    var remainPlayingTime = document.getElementById(\"remainPlayingTime\");\n    remainPlayingTime.className = \"remainPlayingTime\"; // 表示するスタート時のプレイ可能時間を定義する。\n    // プレイモード：タイムアタックの場合は5分とする。\n\n    var initialPlayingTimeMSec = 30000; // プレイモード：タイムアタックの場合は30分とする。\n\n    if (playMode == \"タイムアタック\") {\n      initialPlayingTimeMSec = 1800000;\n    }\n\n    ; // プレイモード：タイムアタックの場合、ゲームクリア後に合計プレイ時間表示する。\n\n    var totalPlayingTimeMSec = 0; // スタート時に残りのプレイ可能時間の初期値を表示するためにcountDownTimeを実施する。\n\n    setTimeout(countDownTime, 0); // 1秒ごとにcountDownTimeを実施するように定義する。\n\n    var timerId = setInterval(countDownTime, 1000); // 正解時に表示する丸を定義する。\n\n    document.getElementById(\"circleImg\").src = '/assets/正解○.png';\n    circleImg.classList.add('transparent'); // \"発音を聞く\"ボタンを表示する。\n\n    var pronounceAgainButton = document.getElementById(\"pronounceAgainButton\");\n    pronounceAgainButton.innerHTML = \"発音を聞く\";\n    pronounceAgainButton.className = \"pronounceAgainButton\";\n\n    pronounceAgainButton.onclick = function () {\n      pronounce(displayWordInList.eng_word);\n    }; // \"ヒントを見る\"ボタンを表示する。(プレイモード普通、タイムアタックの時のみ機能)\n\n\n    var hintButton = document.getElementById(\"hintButton\");\n    hintButton.innerHTML = \"ヒントを見る\";\n\n    if (playMode == \"普通\" || playMode == \"タイムアタック\") {\n      hintButton.className = \"hintButton\";\n\n      hintButton.onclick = function () {\n        charArrayInDisplayWordJap[0].classList.remove('transparent');\n      };\n    } else {\n      hintButton.className = \"hintButtonPractice\";\n    }\n\n    ; // \"答えを見る\"ボタンを表示する。(プレイモード普通、タイムアタックの時のみ機能)\n\n    var answerButton = document.getElementById(\"answerButton\");\n    answerButton.innerHTML = \"答えを見る\";\n\n    if (playMode == \"普通\" || playMode == \"タイムアタック\") {\n      answerButton.className = \"answerButton\";\n\n      answerButton.onclick = function () {\n        for (var i = 0; i < charArrayInDisplayWordJap.length; i++) {\n          charArrayInDisplayWordJap[i].classList.remove('transparent');\n        }\n\n        displayWordKanji.className = \"displayWordKanji\"; // 連続正解数を0に戻す。\n\n        totalConsecutiveNumCorrectNum = 0;\n        displayConsecutiveCorrectNum.textContent = totalConsecutiveNumCorrectNum; // メーターを初期値に戻す。\n\n        bonusCountMeter = 0;\n        document.getElementById(\"meterImg\").src = imgArray[bonusCountMeter]; // 「答えを見る」判定フラグを更新する。\n\n        answerOpenFlag = \"1\";\n      };\n    } else {\n      // (プレイモード練習の時)\n      answerButton.className = \"answerButtonPractice\";\n    }\n\n    ; // \"最初からやり直す\"ボタンを表示する。\n\n    var restartButtonMidGame = document.getElementById(\"restartButtonMidGame\");\n    restartButtonMidGame.classList.remove('transparent'); // \"コース選択画面に戻る\"ボタンを表示する。\n\n    var courseSettingBackButtonMidGame = document.getElementById(\"courseSettingBackButtonMidGame\");\n    courseSettingBackButtonMidGame.classList.remove('transparent'); // 以下、スコア定義---------------------------------------------------------------------------------------------------\n    // -----------------------------------------------------------------------------------------------------------------\n    // // プレイモード：練習・普通の場合はスコアを表示させる。\n    // // プレイモード：タイムアタックはスコアを表示させない。\n    // if ( playMode == \"練習\" || playMode == \"普通\") {\n    // \t// 表示するスコアを定義する。\n    // \tlet displayScoreEntire = document.getElementById(\"displayScoreEntire\");\n    // \tdisplayScoreEntire.className =  \"displayScoreEntire\";\n    // \tlet displayScore = document.getElementById(\"displayScore\");\n    // \tdisplayScore.className =  \"displayScore\";\n    // \tlet displayP = document.getElementById(\"displayP\");\n    // \tdisplayP.className =  \"displayP\";\n    // };\n    // プレモード：練習・普通の場合のみ使用する。----------------------------\n    // ---------------------------------------------------------------\n    // // 合計スコアの初期値を定義する。\n    // let totalScore = 0;\n    // // スコアアップする基準を定義する。\n    // const refTextLengthForCountUpLevel1 = 4;\n    // const addScoreLevel1 = 50;\n    // const addScoreLevel2 = 50;\n    // ---------------------------------------------------------------\n    // ---------------------------------------------------------------\n    // 表示する正解数全体のクラス\n\n    var NumCorrectMidGamePlay = document.getElementById(\"NumCorrectMidGamePlay\");\n    NumCorrectMidGamePlay.className = \"NumCorrectMidGamePlay\"; // 表示する正解数を定義する。\n\n    var displayNumCorrectWord = document.getElementById(\"displayNumCorrectWord\");\n    displayNumCorrectWord.className = \"displayNumCorrectWord\";\n    displayNumCorrectWord.textContent = \"合計正解数\";\n    var displayNumCorrectNum = document.getElementById(\"displayNumCorrectNum\");\n    displayNumCorrectNum.className = \"displayNumCorrectNum\";\n    var totalNumCorrectNum = 0;\n    displayNumCorrectNum.textContent = totalNumCorrectNum; // 表示する連続正解数を定義する。\n\n    var displayConsecutiveCorrectWord = document.getElementById(\"displayConsecutiveCorrectWord\");\n    displayConsecutiveCorrectWord.className = \"displayConsecutiveCorrectWord\";\n    displayConsecutiveCorrectWord.textContent = \"連続正解数\";\n    var displayConsecutiveCorrectNum = document.getElementById(\"displayConsecutiveCorrectNum\");\n    displayConsecutiveCorrectNum.className = \"displayConsecutiveCorrectNum\";\n    var totalConsecutiveNumCorrectNum = 0;\n    displayConsecutiveCorrectNum.textContent = totalConsecutiveNumCorrectNum; // 表示する最高連続正解数を定義する。\n\n    var displayMaxConsecutiveCorrectWord = document.getElementById(\"displayMaxConsecutiveCorrectWord\");\n    displayMaxConsecutiveCorrectWord.className = \"displayMaxConsecutiveCorrectWord\";\n    displayMaxConsecutiveCorrectWord.textContent = \"最高連続正解数\";\n    var displayMaxConsecutiveCorrectNum = document.getElementById(\"displayMaxConsecutiveCorrectNum\");\n    displayMaxConsecutiveCorrectNum.className = \"displayMaxConsecutiveCorrectNum\";\n    var totalMaxConsecutiveNumCorrectNum = 0;\n    displayMaxConsecutiveCorrectNum.textContent = totalMaxConsecutiveNumCorrectNum; // 以上、スコア定義---------------------------------------------------------------------------------------------------\n    // -----------------------------------------------------------------------------------------------------------------\n    // タイプされる度にkeyDownCharCountUpを実施するように定義する。\n\n    document.addEventListener(\"keydown\", keyDownCharCountUp); // 以下、表示する単語を作成する処理を定義する。-----------------------------------------------\n    // ------------------------------------------------------------------------------------\n\n    function createDisplayWord() {\n      // すでにゲームが終了している場合、新規ワードを生成しない。ゲーム中のみ生成する。\n      // ギリギリで問題に正解した場合、○を表示した後、500m秒後にワードを生成する処理が走るため。\n      if (playEndFlag === \"0\") {\n        // 表示単語を初期化する。\n        displayWord.textContent = \"\"; // 問題を作成した時間を記録する。\n\n        eachQuestionCreateTime = Date.now(); // 前回の問題に要した時間を初期値に戻す。\n\n        eachQuestionAnswerTime = 0; // 出題順の設定により、displayWordInListを変更\n\n        if (questionOrderMode == \"番号順\") {\n          // 英単語を順番に出題する場合の番号の初期値を定義する。\n          displayWordInList = wordList[sortById];\n          sortById++; // sortByIdが出題英単語数を超えた場合、初期値に戻す。\n\n          if (sortById >= wordList.length) {\n            sortById = 0; // プレイモード：タイムアタックの場合、次の問題に正解した時点でゲーム終了とする。\n\n            if (playMode == \"タイムアタック\") {\n              // フラグを1に更新する。\n              gameCompleteTimeAttackFlag = \"1\";\n            }\n\n            ;\n          }\n\n          ;\n        } else {\n          // 出題順がランダムの場合\n          // 0〜textListsの総数間で整数値をランダムで算出する。\n          var randomIntegerInTotalWordList = Math.floor(Math.random() * wordList.length); // 表示する単語をランダムで選定する。\n\n          displayWordInList = wordList[randomIntegerInTotalWordList]; // プレイモード：タイムアタックの場合は、wordListから表示単語を削除する。\n\n          if (playMode == \"タイムアタック\") {\n            // 同じ問題を２度出題しないように、一度出題した問題はwordListから削除する。\n            wordList.splice(randomIntegerInTotalWordList, 1); // wordList.length == 0になった場合、次の問題に正解した時点でゲーム終了とする。\n\n            if (wordList.length == 0) {\n              // フラグを1に更新する。\n              gameCompleteTimeAttackFlag = \"1\";\n            }\n\n            ;\n          }\n\n          ;\n        }\n\n        ; // 前回出題した英単語を allQuestionWords から削除し、初期値に戻す。\n\n        allQuestionWords = []; // 問題の出題順を+1する。\n\n        eachQuestionOrder = eachQuestionOrder + 1; // 出題した英単語displayWordInList を allQuestionWords に格納する。\n\n        allQuestionWords.push(eachQuestionOrder, displayWordInList.id, \"▷\", displayWordInList.eng_word, displayWordInList.jap_trans_1, \"未解答\", \"-\"); // 英単語を生成した際に、発音させる。（発音ありの場合のみ）\n\n        if (pronounceMode == \"発音あり\") {\n          pronounce(displayWordInList.eng_word);\n        }\n\n        ; // 英単語を表示させる。\n\n        displayWordEnglish.textContent = displayWordInList.eng_word; // 日本語訳(漢字)を表示させる。\n\n        displayWordKanji.textContent = displayWordInList.jap_trans_1; // プレイモード練習の時は、答えとして漢字を表示させ、普通、タイムアタックでは非表示にする。\n\n        if (playMode == \"練習\") {\n          displayWordKanji.className = \"displayWordKanji\";\n        } else if (playMode == \"普通\" || playMode == \"タイムアタック\") {\n          displayWordKanji.className = \"transparent\";\n        } else {\n          displayWordKanji.className = \"transparent\";\n        } // 表示する単語を一文字ごとに区切り、spanタグで閉じる。\n        // spanタグで閉じた単語を表示する。\n\n\n        charArrayInDisplayWordJap = displayWordInList.jap_trans_1_yomi.split(\"\").map(function (value) {\n          // spanタグを作成する。\n          var spanValue = document.createElement(\"span\"); // spanタグに一文字を挿入する。\n\n          spanValue.textContent = value; // 各文字（ひらがな）に対して、transparentクラスを付与する。（プレイモード普通、タイムアタックのときのみ）\n\n          if (playMode == \"普通\" || playMode == \"タイムアタック\") {\n            spanValue.className = \"transparent\";\n          }\n\n          ; // 表示する単語にspanタグで閉じた一文字を追加する。\n\n          displayWord.appendChild(spanValue);\n          return spanValue;\n        });\n      }\n\n      ;\n    }\n\n    ; // 以上、表示する単語を作成する処理を定義する。-----------------------------------------------\n    // ------------------------------------------------------------------------------------\n    // 以下、プレイ時間をカウントダウンする処理を定義する。-----------------------------------------\n    // ------------------------------------------------------------------------------------\n\n    function countDownTime() {\n      var currentTime = Date.now();\n      var diffBetweenCurrentTimeAndStartTime = currentTime - startTime;\n      var remainMSec = initialPlayingTimeMSec - diffBetweenCurrentTimeAndStartTime;\n      var remainAllSec = Math.ceil(remainMSec / 1000);\n      var remainMin = Math.floor(remainAllSec / 60);\n      var remainSec = Math.ceil(remainAllSec % 60);\n      var remainSecLabel = \"\\u6B8B\\u308A\".concat(\"0\".concat(remainMin).slice(-2), \"\\u5206\").concat(\"0\".concat(remainSec).slice(-2), \"\\u79D2\"); // 残り時間が0になった場合の処理を定義する。\n\n      if (remainMSec <= 0) {\n        gameClose();\n      } // 残りプレイ可能時間を更新する。\n\n\n      remainPlayingTime.textContent = remainSecLabel; // プレイモード：タイムアタックの場合は、使用時間を最後に表示する。\n\n      if (playMode == \"タイムアタック\") {\n        totalPlayingTimeMSec = diffBetweenCurrentTimeAndStartTime;\n      }\n\n      ;\n    }\n\n    ; // 以上、プレイ時間をカウントダウンする処理を定義する。-----------------------------------------\n    // ------------------------------------------------------------------------------------\n    // 以下、ゲーム終了時の処理を定義する。------------------------------------------------------\n    // ------------------------------------------------------------------------------------\n\n    function gameClose() {\n      // ゲーム終了後にplayEndFlagを1に更新する。\n      playEndFlag = \"1\"; // プレイ時間のカウントダウンを止める。\n\n      clearInterval(timerId); // 最後に出題していた英単語を allQuestionWordsList に格納する。\n      // ただし、プレイモード：タイムアタックでクリアしている場合、出題している単語はないため処理不要。\n      // また、終了直前で正解した場合、次の問題生成前に本処理に入り、最後に正解した問題が２つ表示されるため、\"未解答\"であることも条件に加える。\n\n      if (!(playMode == \"タイムアタック\" && gameCompleteTimeAttackFlag == \"2\") && allQuestionWords[allQuestionWords.length - 2] == \"未解答\") {\n        // 出題したすべての英単語リストに追加する。\n        allQuestionWordsList.push(allQuestionWords);\n      }\n\n      ; // 残り時間の表示を消す。\n\n      remainPlayingTime.className = \"transparent\"; // 現在のスコア（左上）の表示を消す。\n      // プレイモード：練習・普通の場合のみ\n      // if ( playMode == \"練習\" || playMode == \"普通\") {\n      // \tdisplayScoreEntire.className = \"transparent\";\n      // \tdisplayScore.className = \"transparent\";\n      // \tdisplayP.className = \"transparent\";\n      // };\n      //正解数全体のクラスを非表示にする。\n\n      NumCorrectMidGamePlay.className = \"transparent\"; // 正解数の表示を消す。\n\n      displayNumCorrectWord.className = \"transparent\";\n      displayNumCorrectNum.className = \"transparent\"; // 連続正解数の表示を消す。\n\n      displayConsecutiveCorrectWord.className = \"transparent\";\n      displayConsecutiveCorrectNum.className = \"transparent\"; // 最高連続正解数の表示を消す。\n\n      displayMaxConsecutiveCorrectWord.className = \"transparent\";\n      displayMaxConsecutiveCorrectNum.className = \"transparent\"; // 問題の英単語の表示を消す。\n\n      displayWordEnglish.textContent = \"\"; // 解答の日本語の表示を消す。\n\n      displayWord.textContent = \"\"; // 解答の日本語訳の漢字の表示を消す。\n\n      displayWordKanji.textContent = \"\"; // 出題や解答を表示していたdivを消す。\n\n      var btnWrapperPlay = document.getElementById(\"btnWrapperPlay\");\n      btnWrapperPlay.className = \"transparent\"; // \"発音を聞く\"ボタンを消す。\n\n      pronounceAgainButton.className = \"transparent\"; // \"ヒントを見る\"ボタンを消す。\n\n      hintButton.className = \"transparent\"; // \"答えを見る\"ボタンを消す。\n\n      answerButton.className = \"transparent\"; // \"最初からやり直す\"ボタンを消す。\n\n      restartButtonMidGame.className = \"transparent\"; // \"コース選択画面に戻る\"ボタンを消す。\n\n      courseSettingBackButtonMidGame.className = \"transparent\"; // 正解時に表示される○の画像を消す。\n\n      circleImg.className = \"transparent\"; // ゲーム終了後に、\"お疲れ様でした\"を表示する。\n\n      var closePopupClear = document.getElementById(\"closePopupClear\"); // ゲーム終了後に終了を知らせるポップアップを作成する。\n      // ゲーム終了を知らせるポップアップを定義する。\n\n      var closePopup = document.getElementById(\"closePopup\");\n      closePopup.textContent = \"終了\";\n      closePopup.className = \"closePopup\"; // ゲーム終了後に、問題数、合計正解数、最大連続正解数を表示する。\n\n      var closePopupTotalQuestionNum = document.getElementById(\"closePopupTotalQuestionNum\");\n      closePopupTotalQuestionNum.className = \"closePopupTotalQuestionNum\";\n      var closePopupFinalCorrectNum = document.getElementById(\"closePopupFinalCorrectNum\");\n      closePopupFinalCorrectNum.className = \"closePopupFinalCorrectNum\";\n      var closePopupFinalMaxConsecutiveCorrectNum = document.getElementById(\"closePopupFinalMaxConsecutiveCorrectNum\");\n      closePopupFinalMaxConsecutiveCorrectNum.className = \"closePopupFinalMaxConsecutiveCorrectNum\"; // もう一度ボタンを定義する。\n\n      var restartBtn = document.getElementById(\"restartBtn\"); // 戻るボタンを定義する。\n\n      var backBtn = document.getElementById(\"backBtn\"); // 問題を振り返るボタンを定義する。\n\n      var checkQuestions = document.getElementById(\"checkQuestions\"); // 出題問題リスト表示を定義する。\n\n      var allQuestionsListEntireScr = document.getElementById(\"allQuestionsListEntireScr\");\n      var allQuestionsList = document.getElementById(\"allQuestionsList\"); // 出題した問題を表にする。\n      // 出題した問題の数だけ処理を実施する。\n\n      allQuestionWordsList.forEach(function (allQuestionWords) {\n        var tr = document.createElement(\"tr\");\n        allQuestionsList.appendChild(tr); // 問題ごとにobjArrayを変え、表に各項目を入れていく。\n\n        var objArray = Object.entries(allQuestionWords);\n        objArray.forEach(function (arr) {\n          var td = document.createElement(\"td\");\n          td.textContent = arr[1];\n\n          if (arr[1] == \"▷\") {\n            // ▷を押下した時\n            td.onclick = function () {\n              pronounce(objArray[3][1]); // その行の英単語を発音させる。\n            };\n          }\n\n          ;\n          tr.appendChild(td);\n        });\n      }); // 出題した出題問題リストポップアップを表示した後の「閉じる」ボタンを定義する。\n\n      var closeAllQuestionsList = document.getElementById(\"closeAllQuestionsList\"); // 「問題を振り返る」ボタン押下で出題問題リストポップアップを開く。\n\n      checkQuestions.onclick = function () {\n        // メーターを非表示にする。\n        document.getElementById(\"meterImg\").className = \"transparent\"; // 出題問題リストを表示させる。\n\n        allQuestionsListEntireScr.className = \"allQuestionsListEntireScr\";\n        closeAllQuestionsList.className = \"closeAllQuestionsList\";\n      }; // 「閉じる」ボタン押下で出題問題リストポップアップを閉じる。\n\n\n      closeAllQuestionsList.onclick = function () {\n        // メーターを表示にさせる。\n        document.getElementById(\"meterImg\").className = \"meter\"; // 出題問題リストを非表示にする。\n\n        allQuestionsListEntireScr.className = \"transparent\";\n        closeAllQuestionsList.className = \"transparent\";\n      }; // 2秒後に得点を表示させる。また、もう一度ボタンと戻るボタンを表示させる。\n\n\n      setTimeout(function () {\n        // 得点の表示\n        // プレイモード：練習・普通の場合は、スコアを表示する。\n        if (playMode == \"練習\" || playMode == \"普通\") {\n          closePopupClear.textContent = \"お疲れ様でした！\";\n          closePopupClear.className = \"closePopupClear\";\n          closePopup.textContent = \"\\u3042\\u306A\\u305F\\u306E\\u6210\\u7E3E\\u306F\\u4EE5\\u4E0B\\u306E\\u901A\\u308A\\u3067\\u3059!\"; //closePopup.textContent = `あなたの得点は ${totalScore.toLocaleString()} 点です!`;\n\n          closePopup.className = \"endResultPopupNoClear\";\n        } else {\n          // プレイモード：タイムアタックの場合は、かかった時間を表示する。\n          // ただし、すべての出題範囲に解答できた場合のみ。\n          if (gameCompleteTimeAttackFlag == \"2\") {\n            var remainAllSecTimeAttack = Math.ceil(totalPlayingTimeMSec / 1000);\n            var remainMinTimeAttack = Math.floor(remainAllSecTimeAttack / 60);\n            var remainSecTimeAttack = Math.ceil(remainAllSecTimeAttack % 60);\n            closePopupClear.textContent = \"お疲れ様でした！ゲームクリアです！\";\n            closePopupClear.className = \"closePopupClear\";\n            closePopup.textContent = \"\\u3042\\u306A\\u305F\\u304C\\u304B\\u304B\\u3063\\u305F\\u6642\\u9593\\u306F \".concat(\"0\".concat(remainMinTimeAttack).slice(-2), \"\\u5206\").concat(\"0\".concat(remainSecTimeAttack).slice(-2), \"\\u79D2 \\u3067\\u3059!\");\n            closePopup.className = \"endResultPopupClear\";\n          } else {\n            // 時間切れの場合は、クリアできなかったと表示する。\n            closePopup.textContent = \"\\u6B8B\\u5FF5\\u306A\\u304C\\u3089\\u30AF\\u30EA\\u30A2\\u3067\\u304D\\u307E\\u305B\\u3093\\u3067\\u3057\\u305F\\u3002\";\n            closePopup.className = \"endResultPopupNoClear\";\n          }\n        }\n\n        ; // 最終結果として、問題数、合計正解数、最高連続正解数を表示する。\n\n        closePopupTotalQuestionNum.textContent = \"\\u51FA\\u984C\\u6570 : \".concat(eachQuestionOrder);\n        closePopupFinalCorrectNum.textContent = \"\".concat(displayNumCorrectWord.textContent, \" : \").concat(totalNumCorrectNum);\n        closePopupFinalMaxConsecutiveCorrectNum.textContent = \"\".concat(displayMaxConsecutiveCorrectWord.textContent, \" : \").concat(totalMaxConsecutiveNumCorrectNum); // もう一度ボタンの表示（transparentを消して表示させる）\n\n        restartBtn.classList.remove('transparent'); // 戻るボタンの表示（transparentを消して表示させる）\n\n        backBtn.classList.remove('transparent'); // 問題を振り返るボタンの表示\n\n        checkQuestions.className = \"checkQuestions\";\n        checkQuestions.textContent = \"問題を振り返る\";\n      }, 2000);\n    }\n\n    ; // 以上、ゲーム終了時の処理を定義する。------------------------------------------------------\n    // ------------------------------------------------------------------------------------\n    // 以下、スコアをアップし、現在のtotalScoreを表示する処理を定義する。---------------------------\n    // ------------------------------------------------------------------------------------\n    // function countUpScore(){\n    // \tif (displayWord.textContent.length < refTextLengthForCountUpLevel1){\n    // \t\taddPoint = addScoreLevel1;\n    // \t} else {\n    // \t\taddPoint = addScoreLevel2;\n    // \t};\n    // \t// 合計得点を定義する。\n    // \ttotalScore = totalScore + addPoint;\n    // \tdisplayScore.setAttribute('data-num', totalScore);\n    // \tvar countElm = $('.displayScore'),\n    // \tcountSpeed = 10;\n    // \tcountElm.each(function(){\n    // \t\tvar self = $(this),\n    // \t\t// 合計得点を定義する。\n    // \t\tcountMax = self.attr('data-num'),\n    // \t\tthisCount = self.text(),\n    // \t\tcountTimer;\n    // \t\tcountUpAnime();\n    // \t\t// 数値をカウントアップするアニメーションを定義する。\n    // \t\tfunction countUpAnime(){\n    // \t\t\tcountTimer = setInterval(function(){\n    // \t\t\t\tvar countNext = thisCount++;\n    // \t\t\t\tself.text(countNext);\n    // \t\t\t\tif(countNext == countMax){\n    // \t\t\t\t\tclearInterval(countTimer);\n    // \t\t\t\t}\n    // \t\t\t},countSpeed);\n    // \t\t};\n    // \t});\n    // };\n    // 以上、スコアをアップし、現在のtotalScoreを表示する処理を定義する。---------------------------\n    // ------------------------------------------------------------------------------------\n    // 以下、正解数をカウントアップする処理を定義する。--------------------------------------------\n    // ------------------------------------------------------------------------------------\n\n    function countUpCorrectNum() {\n      // 合計正解数のカウントアップ\n      totalNumCorrectNum = totalNumCorrectNum + 1;\n      displayNumCorrectNum.textContent = totalNumCorrectNum; // 連続正解数のカウントアップ\n\n      totalConsecutiveNumCorrectNum = totalConsecutiveNumCorrectNum + 1;\n      displayConsecutiveCorrectNum.textContent = totalConsecutiveNumCorrectNum; // 最高連続正解数のカウントアップ\n\n      if (totalMaxConsecutiveNumCorrectNum < totalConsecutiveNumCorrectNum) {\n        totalMaxConsecutiveNumCorrectNum = totalMaxConsecutiveNumCorrectNum + 1;\n        displayMaxConsecutiveCorrectNum.textContent = totalMaxConsecutiveNumCorrectNum;\n      }\n\n      ;\n    }\n\n    ; // 以上、正解数をカウントアップする処理を定義する。--------------------------------------------\n    // ------------------------------------------------------------------------------------\n    // 以下、タイプした文字が表示文字と一致する場合の処理を定義する。--------------------------------\n    // ------------------------------------------------------------------------------------\n\n    function keyDownCharCountUp(keyDownChar) {\n      if (playEndFlag === \"0\") {\n        // 文字によって、文字列の最後にあるかどうかで入力形式が変わるため、\"っ\"\"ん\"は個別に処理を定義する。\n        // 先頭文字が小さい\"っ\"の場合\n        // uはxtsuなどで\"っ\"を打ち込めるため、条件分岐要。\n        if (charArrayInDisplayWordJap[0].textContent === \"っ\") {\n          if (keyDownChar.key !== \"a\" && keyDownChar.key !== \"i\" && keyDownChar.key !== \"e\" && keyDownChar.key !== \"o\" && keyDownChar.key !== \"n\") {\n            // \"っ\"が最後の文字ではない場合、同じキーを２回連続でタイプしてOKとする。\n            if (charArrayInDisplayWordJap[1] != null) {\n              // 入力対象文字に対して、入力処理が開始していない場合\n              if (shiftAlreadyStartedCountAll === 0 && keyDownChar.key !== \"u\") {\n                keyTempForSmallTsuPreWithNext = keyDownChar.key;\n                shiftAlreadyStartedCountAll = 1;\n                correctTyping();\n              } else {\n                // 同じアルファベットを入力した場合、\"っ\"を入力完了にし、再度keyDownCharCountUpを実施する。\n                if (keyDownChar.key === keyTempForSmallTsuPreWithNext && keyDownChar.key !== \"u\") {\n                  keyTempForSmallTsuPreWithNext = \"\";\n                  keyTempForSmallTsuPreFirst = \"\";\n                  keyTempForSmallTsuPreSecond = \"\";\n                  keyTempForSmallTsuPreThird = \"\";\n                  charArrayInDisplayWordJap[0].className = \"add_red\";\n                  charArrayInDisplayWordJap.shift();\n                  shiftAlreadyStartedCountAll = 0;\n                  correctTyping();\n                  keyDownCharCountUp(keyDownChar); // 異なる場合は前回入力アルファベットに入力したアルファベットを上書き\n                } else {\n                  if (keyDownChar.key === \"t\" && (keyTempForSmallTsuPreFirst === \"l\" || keyTempForSmallTsuPreFirst === \"x\")) {} else if ((keyDownChar.key === \"u\" || keyDownChar.key === \"s\") && keyTempForSmallTsuPreSecond === \"t\" && (keyTempForSmallTsuPreFirst === \"l\" || keyTempForSmallTsuPreFirst === \"x\")) {} else {\n                    typeMissAudio();\n                  }\n\n                  ;\n\n                  if (keyDownChar.key !== \"u\") {\n                    keyTempForSmallTsuPreWithNext = keyDownChar.key;\n                  }\n\n                  ;\n                }\n\n                ;\n              }\n\n              ;\n            }\n\n            ; // 先頭文字が小さい\"っ\"の場合(上記の2連続同一キータイプにより\"っ\"の入力処理が完了した場合に、下記処理が開始するのを防ぐために条件分岐を設定)\n\n            if (charArrayInDisplayWordJap[0].textContent === \"っ\") {\n              // \"っ\"の単独入力を可能にする。\n              if (keyDownChar.key === \"l\" || keyDownChar.key === \"x\") {\n                keyTempForSmallTsuPreFirst = keyDownChar.key;\n\n                if (keyTempForSmallTsuPreWithNext !== \"l\" && keyTempForSmallTsuPreWithNext !== \"x\") {\n                  correctTyping();\n                }\n\n                ;\n              }\n\n              ;\n\n              if ((keyTempForSmallTsuPreFirst === \"l\" || keyTempForSmallTsuPreFirst === \"x\") && keyDownChar.key === \"t\") {\n                keyTempForSmallTsuPreSecond = keyDownChar.key;\n                correctTyping();\n              }\n\n              ;\n\n              if ((keyTempForSmallTsuPreFirst === \"l\" || keyTempForSmallTsuPreFirst === \"x\") && keyTempForSmallTsuPreSecond === \"t\" && keyDownChar.key === \"s\") {\n                keyTempForSmallTsuPreThird = keyDownChar.key;\n                correctTyping();\n              }\n\n              ;\n\n              if ((keyTempForSmallTsuPreFirst === \"l\" || keyTempForSmallTsuPreFirst === \"x\") && keyTempForSmallTsuPreSecond === \"t\" && keyDownChar.key === \"u\") {\n                keyTempForSmallTsuPreWithNext = \"\";\n                keyTempForSmallTsuPreFirst = \"\";\n                keyTempForSmallTsuPreSecond = \"\";\n                keyTempForSmallTsuPreThird = \"\";\n                charArrayInDisplayWordJap[0].className = \"add_red\";\n                charArrayInDisplayWordJap.shift();\n                shiftAlreadyStartedCountAll = 0;\n                correctTyping();\n              }\n\n              ;\n            }\n\n            ;\n          } else {\n            // \"a\"\"i\"\"e\"\"o\"\"n\"が入力された時点でNGとする。\n            typeMissAudio();\n          }\n\n          ; // 先頭文字が\"ん\"の場合、かつ次の文字あり、その文字が母音でない場合は \"n\"+\"n以外の子音\"でもOKとする。\n          // それ以外の場合は、マッピング表の通り\"nn\"\"xn\"でしか入力できない。\n        } else if (charArrayInDisplayWordJap[0].textContent === \"ん\") {\n          if (shiftAlreadyStartedCountAll === 0) {\n            if (keyDownChar.key === \"n\" || keyDownChar.key === \"x\") {\n              keyTempForNnPre = keyDownChar.key;\n              shiftAlreadyStartedCountAll = 1;\n              correctTyping();\n            } else {\n              typeMissAudio();\n            }\n\n            ;\n          } else {\n            if (keyTempForNnPre === \"n\") {\n              if (charArrayInDisplayWordJap[1] != null) {\n                if (charArrayInDisplayWordJap[1].textContent !== \"あ\" && charArrayInDisplayWordJap[1].textContent !== \"い\" && charArrayInDisplayWordJap[1].textContent !== \"う\" && charArrayInDisplayWordJap[1].textContent !== \"え\" && charArrayInDisplayWordJap[1].textContent !== \"お\") {\n                  if (keyDownChar.key !== \"a\" && keyDownChar.key !== \"i\" && keyDownChar.key !== \"u\" && keyDownChar.key !== \"e\" && keyDownChar.key !== \"o\" && keyDownChar.key !== \"y\") {\n                    keyTempForNnPre = \"\";\n                    charArrayInDisplayWordJap[0].className = \"add_red\";\n                    charArrayInDisplayWordJap.shift();\n                    shiftAlreadyStartedCountAll = 0;\n                    correctTyping();\n\n                    if (keyDownChar.key !== \"n\") {\n                      keyDownCharCountUp(keyDownChar);\n                    }\n\n                    ;\n                  } else {\n                    typeMissAudio();\n                  }\n\n                  ;\n                } else {\n                  if (keyDownChar.key !== \"a\" && keyDownChar.key !== \"i\" && keyDownChar.key !== \"u\" && keyDownChar.key !== \"e\" && keyDownChar.key !== \"o\" && keyDownChar.key !== \"y\") {\n                    keyTempForNnPre = \"\";\n                    charArrayInDisplayWordJap[0].className = \"add_red\";\n                    charArrayInDisplayWordJap.shift();\n                    shiftAlreadyStartedCountAll = 0;\n                    correctTyping();\n\n                    if (keyDownChar.key !== \"n\") {\n                      keyDownCharCountUp(keyDownChar);\n                    }\n\n                    ;\n                  } else {\n                    typeMissAudio();\n                  }\n\n                  ;\n                }\n\n                ;\n              } else {\n                if (keyDownChar.key === \"n\") {\n                  keyTempForNnPre = \"\";\n                  charArrayInDisplayWordJap[0].className = \"add_red\";\n                  charArrayInDisplayWordJap.shift();\n                  shiftAlreadyStartedCountAll = 0;\n                  correctTyping();\n                } else {\n                  typeMissAudio();\n                }\n\n                ;\n              }\n\n              ;\n            } else if (keyTempForNnPre === \"x\") {\n              if (keyDownChar.key === \"n\") {\n                keyTempForNnPre = \"\";\n                charArrayInDisplayWordJap[0].className = \"add_red\";\n                charArrayInDisplayWordJap.shift();\n                shiftAlreadyStartedCountAll = 0;\n                correctTyping();\n              } else {\n                typeMissAudio();\n              }\n\n              ;\n            }\n\n            ;\n          }\n\n          ; // \"っ\"\"ん\"以外の文字の場合\n        } else {\n          // 入力対象文字をアルファベットに分解する。\n          // 入力対象文字に対して、入力処理が開始していない場合\n          if (shiftAlreadyStartedCountAll === 0) {\n            // 2文字目が存在する場合(最後の文字でない場合)\n            if (charArrayInDisplayWordJap[1] != null) {\n              // 2文字を一緒に入力するパターンに対応する処理を定義する。\n              wordLetterWithSmallLetter = charArrayInDisplayWordJap[0].textContent + charArrayInDisplayWordJap[1].textContent; // 文字をローマ字に変換し、アルファベットごとに分ける。\n              // 2文字に対して、ローマ字変換パターン１をsplitする。\n\n              if (romaMappingTableFirst[wordLetterWithSmallLetter] != null) {\n                charArrayInDisplayWordAlphaFirst = romaMappingTableFirst[wordLetterWithSmallLetter].split(\"\").map(function (value) {\n                  var spanValue = document.createElement(\"span\");\n                  spanValue.textContent = value;\n                  return spanValue;\n                });\n              }\n\n              ; // 2文字に対してローマ字変換パターン２が存在する場合はsplitする。\n\n              if (romaMappingTableSecond[wordLetterWithSmallLetter] != null) {\n                charArrayInDisplayWordAlphaSecond = romaMappingTableSecond[wordLetterWithSmallLetter].split(\"\").map(function (value) {\n                  var spanValue = document.createElement(\"span\");\n                  spanValue.textContent = value;\n                  return spanValue;\n                });\n              }\n\n              ; // 2文字に対してローマ字変換パターン３が存在する場合はsplitする。\n\n              if (romaMappingTableThird[wordLetterWithSmallLetter] != null) {\n                charArrayInDisplayWordAlphaThird = romaMappingTableThird[wordLetterWithSmallLetter].split(\"\").map(function (value) {\n                  var spanValue = document.createElement(\"span\");\n                  spanValue.textContent = value;\n                  return spanValue;\n                });\n              }\n\n              ;\n            }\n\n            ; // 1文字のみを先に入力するパターンに対応する処理を定義する。\n\n            wordLetterSole = charArrayInDisplayWordJap[0].textContent; // 1文字目のみ対して、ローマ字変換パターン１をsplitする。\n            // 母音の場合はsplit不可のため処理を分ける。\n\n            if (wordLetterSole !== \"あ\" && wordLetterSole !== \"い\" && wordLetterSole !== \"う\" && wordLetterSole !== \"え\" && wordLetterSole !== \"お\") {\n              charArrayInDisplayWordAlphaSole = romaMappingTableFirst[wordLetterSole].split(\"\").map(function (value) {\n                var spanValue = document.createElement(\"span\");\n                spanValue.textContent = value;\n                return spanValue;\n              });\n            } else {\n              var spanValue = document.createElement(\"span\");\n              spanValue.textContent = romaMappingTableFirst[wordLetterSole];\n              charArrayInDisplayWordAlphaSole = [spanValue];\n            }\n\n            ; // 1文字目のみ対してローマ字変換パターン２が存在する場合はsplitする。\n\n            if (romaMappingTableSecond[wordLetterSole] != null) {\n              charArrayInDisplayWordAlphaSoleSecond = romaMappingTableSecond[wordLetterSole].split(\"\").map(function (value) {\n                var spanValue = document.createElement(\"span\");\n                spanValue.textContent = value;\n                return spanValue;\n              });\n            }\n\n            ; // 1文字目のみ対してローマ字変換パターン３が存在する場合はsplitする。\n\n            if (romaMappingTableThird[wordLetterSole] != null) {\n              charArrayInDisplayWordAlphaSoleThird = romaMappingTableThird[wordLetterSole].split(\"\").map(function (value) {\n                var spanValue = document.createElement(\"span\");\n                spanValue.textContent = value;\n                return spanValue;\n              });\n            }\n\n            ;\n          }\n\n          ; // 文字入力によるアルファベットに対する処理を開始する。\n          // 文字の入力開始前である場合\n\n          if (shiftAlreadyStartedCountAll === 0) {\n            // 2文字目が存在する場合(最後の文字でない場合)\n            if (charArrayInDisplayWordJap[1] != null) {\n              // 2文字に対してタイプキーがローマ字変換パターン１に該当する場合\n              if (romaMappingTableFirst[wordLetterWithSmallLetter] != null) {\n                if (keyDownChar.key === charArrayInDisplayWordAlphaFirst[0].textContent) {\n                  charArrayInDisplayWordAlphaFirst.shift();\n                  shiftAlreadyStartedCountAll = 1;\n                  shiftAlreadyStartedCountFirst = 1;\n\n                  if (charArrayInDisplayWordAlphaFirst.length === 0) {\n                    charArrayInDisplayWordJap[0].className = \"add_red\";\n                    charArrayInDisplayWordJap[1].className = \"add_red\";\n                    charArrayInDisplayWordJap.shift();\n                    charArrayInDisplayWordJap.shift();\n                    shiftAlreadyStartedCountAll = 0;\n                  }\n                }\n              }\n\n              ; // 2文字に対してタイプキーがローマ字変換パターン２に該当する場合\n\n              if (romaMappingTableSecond[wordLetterWithSmallLetter] != null) {\n                if (keyDownChar.key === charArrayInDisplayWordAlphaSecond[0].textContent) {\n                  charArrayInDisplayWordAlphaSecond.shift();\n                  shiftAlreadyStartedCountAll = 1;\n                  shiftAlreadyStartedCountSecond = 1;\n\n                  if (charArrayInDisplayWordAlphaSecond.length === 0) {\n                    charArrayInDisplayWordJap[0].className = \"add_red\";\n                    charArrayInDisplayWordJap[1].className = \"add_red\";\n                    charArrayInDisplayWordJap.shift();\n                    charArrayInDisplayWordJap.shift();\n                    shiftAlreadyStartedCountAll = 0;\n                  }\n                }\n              }\n\n              ; // 2文字に対してタイプキーがローマ字変換パターン３に該当する場合\n\n              if (romaMappingTableThird[wordLetterWithSmallLetter] != null) {\n                if (keyDownChar.key === charArrayInDisplayWordAlphaThird[0].textContent) {\n                  charArrayInDisplayWordAlphaThird.shift();\n                  shiftAlreadyStartedCountAll = 1;\n                  shiftAlreadyStartedCountThird = 1;\n\n                  if (charArrayInDisplayWordAlphaThird.length === 0) {\n                    charArrayInDisplayWordJap[0].className = \"add_red\";\n                    charArrayInDisplayWordJap[1].className = \"add_red\";\n                    charArrayInDisplayWordJap.shift();\n                    charArrayInDisplayWordJap.shift();\n                    shiftAlreadyStartedCountAll = 0;\n                  }\n                }\n              }\n            }\n\n            ; // 1文字目のみに対してタイプキーがローマ字変換パターン１に該当する場合\n\n            if (keyDownChar.key === charArrayInDisplayWordAlphaSole[0].textContent) {\n              charArrayInDisplayWordAlphaSole.shift();\n              shiftAlreadyStartedCountAll = 1;\n              shiftAlreadyStartedCountSoleFirst = 1;\n\n              if (charArrayInDisplayWordAlphaSole.length === 0) {\n                charArrayInDisplayWordJap[0].className = \"add_red\";\n                charArrayInDisplayWordJap.shift();\n                shiftAlreadyStartedCountAll = 0;\n              }\n            }\n\n            ; // 1文字目のみに対してタイプキーがローマ字変換パターン２に該当する場合\n\n            if (romaMappingTableSecond[wordLetterSole] != null) {\n              if (keyDownChar.key === charArrayInDisplayWordAlphaSoleSecond[0].textContent && charArrayInDisplayWordAlphaSole.length !== 0) {\n                charArrayInDisplayWordAlphaSoleSecond.shift();\n                shiftAlreadyStartedCountAll = 1;\n                shiftAlreadyStartedCountSoleSecond = 1;\n\n                if (charArrayInDisplayWordAlphaSoleSecond.length === 0) {\n                  charArrayInDisplayWordJap[0].className = \"add_red\";\n                  charArrayInDisplayWordJap.shift();\n                  shiftAlreadyStartedCountAll = 0;\n                }\n              }\n            }\n\n            ; // 1文字目のみに対してタイプキーがローマ字変換パターン３に該当する場合\n\n            if (romaMappingTableThird[wordLetterSole] != null) {\n              if (keyDownChar.key === charArrayInDisplayWordAlphaSoleThird[0].textContent && charArrayInDisplayWordAlphaSole.length !== 0 && charArrayInDisplayWordAlphaSoleSecond.length !== 0) {\n                charArrayInDisplayWordAlphaSoleThird.shift();\n                shiftAlreadyStartedCountAll = 1;\n                shiftAlreadyStartedCountSoleThird = 1;\n\n                if (charArrayInDisplayWordAlphaSoleThird.length === 0) {\n                  charArrayInDisplayWordJap[0].className = \"add_red\";\n                  charArrayInDisplayWordJap.shift();\n                  shiftAlreadyStartedCountAll = 0;\n                }\n              }\n            }\n\n            ; // タイプキーがローマ字変換パターン１〜３のいずれかに該当する場合\n\n            if (shiftAlreadyStartedCountFirst === 1 || shiftAlreadyStartedCountSecond === 1 || shiftAlreadyStartedCountThird === 1 || shiftAlreadyStartedCountSoleFirst === 1 || shiftAlreadyStartedCountSoleSecond === 1 || shiftAlreadyStartedCountSoleThird === 1) {\n              correctTyping();\n            } else {\n              typeMissAudio();\n            }\n\n            ; // 文字入力が完了している場合、カウントを0にする。\n\n            if (shiftAlreadyStartedCountAll === 0) {\n              shiftAlreadyStartedCountFirst = 0;\n              shiftAlreadyStartedCountSecond = 0;\n              shiftAlreadyStartedCountThird = 0;\n              shiftAlreadyStartedCountSoleFirst = 0;\n              shiftAlreadyStartedCountSoleSecond = 0;\n              shiftAlreadyStartedCountSoleThird = 0;\n            }\n\n            ; // すでに1つのアルファベットを入力済みの場合\n          } else if (shiftAlreadyStartedCountAll === 1) {\n            // 2文字目が存在する場合(最後の文字でない場合)\n            if (charArrayInDisplayWordJap[1] != null) {\n              // 2文字に対してタイプキーがローマ字変換パターン１に該当する場合\n              if (shiftAlreadyStartedCountFirst === 1) {\n                if (keyDownChar.key === charArrayInDisplayWordAlphaFirst[0].textContent) {\n                  charArrayInDisplayWordAlphaFirst.shift();\n                  shiftAlreadyStartedCountAll = 2;\n                  shiftAlreadyStartedCountFirst = 2;\n\n                  if (charArrayInDisplayWordAlphaFirst.length === 0) {\n                    charArrayInDisplayWordJap[0].className = \"add_red\";\n                    charArrayInDisplayWordJap[1].className = \"add_red\";\n                    charArrayInDisplayWordJap.shift();\n                    charArrayInDisplayWordJap.shift();\n                    shiftAlreadyStartedCountAll = 0;\n                  }\n                }\n              }\n\n              ; // 2文字に対してタイプキーがローマ字変換パターン２に該当する場合\n\n              if (romaMappingTableSecond[wordLetterWithSmallLetter] != null) {\n                if (shiftAlreadyStartedCountSecond === 1) {\n                  if (keyDownChar.key === charArrayInDisplayWordAlphaSecond[0].textContent) {\n                    charArrayInDisplayWordAlphaSecond.shift();\n                    shiftAlreadyStartedCountAll = 2;\n                    shiftAlreadyStartedCountSecond = 2;\n\n                    if (charArrayInDisplayWordAlphaSecond.length === 0) {\n                      charArrayInDisplayWordJap[0].className = \"add_red\";\n                      charArrayInDisplayWordJap[1].className = \"add_red\";\n                      charArrayInDisplayWordJap.shift();\n                      charArrayInDisplayWordJap.shift();\n                      shiftAlreadyStartedCountAll = 0;\n                    }\n                  }\n                }\n              }\n\n              ; // 2文字に対してタイプキーがローマ字変換パターン３に該当する場合\n\n              if (romaMappingTableThird[wordLetterWithSmallLetter] != null) {\n                if (shiftAlreadyStartedCountThird === 1) {\n                  if (keyDownChar.key === charArrayInDisplayWordAlphaThird[0].textContent) {\n                    charArrayInDisplayWordAlphaThird.shift();\n                    shiftAlreadyStartedCountAll = 2;\n                    shiftAlreadyStartedCountThird = 2;\n\n                    if (charArrayInDisplayWordAlphaThird.length === 0) {\n                      charArrayInDisplayWordJap[0].className = \"add_red\";\n                      charArrayInDisplayWordJap[1].className = \"add_red\";\n                      charArrayInDisplayWordJap.shift();\n                      charArrayInDisplayWordJap.shift();\n                      shiftAlreadyStartedCountAll = 0;\n                    }\n                  }\n                }\n              }\n            }\n\n            ; // 1文字目のみに対してタイプキーがローマ字変換パターン１に該当する場合\n\n            if (shiftAlreadyStartedCountSoleFirst === 1) {\n              if (keyDownChar.key === charArrayInDisplayWordAlphaSole[0].textContent) {\n                charArrayInDisplayWordAlphaSole.shift();\n                shiftAlreadyStartedCountAll = 2;\n                shiftAlreadyStartedCountSoleFirst = 2;\n\n                if (charArrayInDisplayWordAlphaSole.length === 0) {\n                  charArrayInDisplayWordJap[0].className = \"add_red\";\n                  charArrayInDisplayWordJap.shift();\n                  shiftAlreadyStartedCountAll = 0;\n                }\n              }\n            }\n\n            ; // 1文字目のみに対してタイプキーがローマ字変換パターン２に該当する場合\n\n            if (romaMappingTableSecond[wordLetterSole] != null) {\n              if (shiftAlreadyStartedCountSoleSecond === 1) {\n                if (keyDownChar.key === charArrayInDisplayWordAlphaSoleSecond[0].textContent) {\n                  charArrayInDisplayWordAlphaSoleSecond.shift();\n                  shiftAlreadyStartedCountAll = 2;\n                  shiftAlreadyStartedCountSoleSecond = 2;\n\n                  if (charArrayInDisplayWordAlphaSoleSecond.length === 0) {\n                    charArrayInDisplayWordJap[0].className = \"add_red\";\n                    charArrayInDisplayWordJap.shift();\n                    shiftAlreadyStartedCountAll = 0;\n                  }\n                }\n              }\n            }\n\n            ; // 1文字目のみに対してタイプキーがローマ字変換パターン３に該当する場合\n\n            if (romaMappingTableThird[wordLetterSole] != null) {\n              if (shiftAlreadyStartedCountSoleThird === 1) {\n                if (keyDownChar.key === charArrayInDisplayWordAlphaSoleThird[0].textContent) {\n                  charArrayInDisplayWordAlphaSoleThird.shift();\n                  shiftAlreadyStartedCountAll = 2;\n                  shiftAlreadyStartedCountSoleThird = 2;\n\n                  if (charArrayInDisplayWordAlphaSoleThird.length === 0) {\n                    charArrayInDisplayWordJap[0].className = \"add_red\";\n                    charArrayInDisplayWordJap.shift();\n                    shiftAlreadyStartedCountAll = 0;\n                  }\n                }\n              }\n            }\n\n            ; // タイプキーがローマ字変換パターン１〜３のいずれかに該当する場合\n\n            if (shiftAlreadyStartedCountFirst === 2 || shiftAlreadyStartedCountSecond === 2 || shiftAlreadyStartedCountThird === 2 || shiftAlreadyStartedCountSoleFirst === 2 || shiftAlreadyStartedCountSoleSecond === 2 || shiftAlreadyStartedCountSoleThird === 2) {\n              correctTyping();\n            } else {\n              typeMissAudio();\n            }\n\n            ; // 文字入力が完了している場合、カウントを0にする。\n\n            if (shiftAlreadyStartedCountAll === 0) {\n              shiftAlreadyStartedCountFirst = 0;\n              shiftAlreadyStartedCountSecond = 0;\n              shiftAlreadyStartedCountThird = 0;\n              shiftAlreadyStartedCountSoleFirst = 0;\n              shiftAlreadyStartedCountSoleSecond = 0;\n              shiftAlreadyStartedCountSoleThird = 0;\n            }\n\n            ; // すでに2つのアルファベットを入力済みの場合\n          } else if (shiftAlreadyStartedCountAll === 2) {\n            // 2文字目が存在する場合(最後の文字でない場合)\n            if (charArrayInDisplayWordJap[1] != null) {\n              // 2文字に対してタイプキーがローマ字変換パターン１に該当する場合\n              if (shiftAlreadyStartedCountFirst === 2) {\n                if (keyDownChar.key === charArrayInDisplayWordAlphaFirst[0].textContent) {\n                  charArrayInDisplayWordAlphaFirst.shift();\n                  shiftAlreadyStartedCountAll = 3;\n                  shiftAlreadyStartedCountFirst = 3;\n\n                  if (charArrayInDisplayWordAlphaFirst.length === 0) {\n                    charArrayInDisplayWordJap[0].className = \"add_red\";\n                    charArrayInDisplayWordJap[1].className = \"add_red\";\n                    charArrayInDisplayWordJap.shift();\n                    charArrayInDisplayWordJap.shift();\n                    shiftAlreadyStartedCountAll = 0;\n                  }\n                }\n              }\n\n              ; // 2文字に対してタイプキーがローマ字変換パターン２に該当する場合\n\n              if (romaMappingTableSecond[wordLetterWithSmallLetter] != null) {\n                if (shiftAlreadyStartedCountSecond === 2) {\n                  if (keyDownChar.key === charArrayInDisplayWordAlphaSecond[0].textContent) {\n                    charArrayInDisplayWordAlphaSecond.shift();\n                    shiftAlreadyStartedCountAll = 3;\n                    shiftAlreadyStartedCountSecond = 3;\n\n                    if (charArrayInDisplayWordAlphaSecond.length === 0) {\n                      charArrayInDisplayWordJap[0].className = \"add_red\";\n                      charArrayInDisplayWordJap[1].className = \"add_red\";\n                      charArrayInDisplayWordJap.shift();\n                      charArrayInDisplayWordJap.shift();\n                      shiftAlreadyStartedCountAll = 0;\n                    }\n                  }\n                }\n              }\n\n              ; // 2文字に対してタイプキーがローマ字変換パターン３に該当する場合\n\n              if (romaMappingTableThird[wordLetterWithSmallLetter] != null) {\n                if (shiftAlreadyStartedCountThird === 2) {\n                  if (keyDownChar.key === charArrayInDisplayWordAlphaThird[0].textContent) {\n                    charArrayInDisplayWordAlphaThird.shift();\n                    shiftAlreadyStartedCountAll = 3;\n                    shiftAlreadyStartedCountThird = 3;\n\n                    if (charArrayInDisplayWordAlphaThird.length === 0) {\n                      charArrayInDisplayWordJap[0].className = \"add_red\";\n                      charArrayInDisplayWordJap[1].className = \"add_red\";\n                      charArrayInDisplayWordJap.shift();\n                      charArrayInDisplayWordJap.shift();\n                      shiftAlreadyStartedCountAll = 0;\n                    }\n                  }\n                }\n              }\n            }\n\n            ; // 1文字目のみに対してタイプキーがローマ字変換パターン１に該当する場合\n\n            if (shiftAlreadyStartedCountSoleFirst === 2) {\n              if (keyDownChar.key === charArrayInDisplayWordAlphaSole[0].textContent) {\n                charArrayInDisplayWordAlphaSole.shift();\n                shiftAlreadyStartedCountAll = 3;\n                shiftAlreadyStartedCountSoleFirst = 3;\n\n                if (charArrayInDisplayWordAlphaSole.length === 0) {\n                  charArrayInDisplayWordJap[0].className = \"add_red\";\n                  charArrayInDisplayWordJap.shift();\n                  shiftAlreadyStartedCountAll = 0;\n                }\n              }\n            }\n\n            ; // 1文字目のみに対してタイプキーがローマ字変換パターン２に該当する場合\n\n            if (romaMappingTableSecond[wordLetterSole] != null) {\n              if (shiftAlreadyStartedCountSoleSecond === 2) {\n                if (keyDownChar.key === charArrayInDisplayWordAlphaSoleSecond[0].textContent) {\n                  charArrayInDisplayWordAlphaSoleSecond.shift();\n                  shiftAlreadyStartedCountAll = 3;\n                  shiftAlreadyStartedCountSoleSecond = 3;\n\n                  if (charArrayInDisplayWordAlphaSoleSecond.length === 0) {\n                    charArrayInDisplayWordJap[0].className = \"add_red\";\n                    charArrayInDisplayWordJap.shift();\n                    shiftAlreadyStartedCountAll = 0;\n                  }\n                }\n              }\n            }\n\n            ; // 1文字目のみに対してタイプキーがローマ字変換パターン３に該当する場合\n\n            if (romaMappingTableThird[wordLetterSole] != null) {\n              if (shiftAlreadyStartedCountSoleThird === 2) {\n                if (keyDownChar.key === charArrayInDisplayWordAlphaSoleThird[0].textContent) {\n                  charArrayInDisplayWordAlphaSoleThird.shift();\n                  shiftAlreadyStartedCountAll = 3;\n                  shiftAlreadyStartedCountSoleThird = 3;\n\n                  if (charArrayInDisplayWordAlphaSoleThird.length === 0) {\n                    charArrayInDisplayWordJap[0].className = \"add_red\";\n                    charArrayInDisplayWordJap.shift();\n                    shiftAlreadyStartedCountAll = 0;\n                  }\n                }\n              }\n            }\n\n            ; // タイプキーがローマ字変換パターン１〜３のいずれかに該当する場合\n\n            if (shiftAlreadyStartedCountFirst === 3 || shiftAlreadyStartedCountSecond === 3 || shiftAlreadyStartedCountThird === 3 || shiftAlreadyStartedCountSoleFirst === 3 || shiftAlreadyStartedCountSoleSecond === 3 || shiftAlreadyStartedCountSoleThird === 3) {\n              correctTyping();\n            } else {\n              typeMissAudio();\n            }\n\n            ; // 文字入力が完了している場合、カウントを0にする。\n\n            if (shiftAlreadyStartedCountAll === 0) {\n              shiftAlreadyStartedCountFirst = 0;\n              shiftAlreadyStartedCountSecond = 0;\n              shiftAlreadyStartedCountThird = 0;\n              shiftAlreadyStartedCountSoleFirst = 0;\n              shiftAlreadyStartedCountSoleSecond = 0;\n              shiftAlreadyStartedCountSoleThird = 0;\n            }\n\n            ;\n          }\n        }\n      }\n    }\n\n    ; // 以上、タイプした文字が表示文字と一致する場合の処理を定義する。--------------------------------\n    // ------------------------------------------------------------------------------------\n    // 以下、タイプした文字が解答文字と一致する場合の共通処理を定義する。-----------------------------\n    // ------------------------------------------------------------------------------------\n\n    function correctTyping() {\n      // タイプ音を定義する。\n      // タイプ音ありの場合のみ\n      if (typeAudioMode == \"タイプ音あり\") {\n        var _typeAudioMode = new Audio('/assets/typeAudio.mp3'); // タイプ音を発生させる。\n\n\n        _typeAudioMode.volume = 0.3;\n\n        _typeAudioMode.play();\n      }\n\n      ; // メーターを更新する。\n\n      bonusCountMeter = bonusCountMeter + 1; // メーターがメーター最大値以上になった場合、メーターを初期化し、プレイ可能時間を延長する。\n\n      if (bonusCountMeter >= bonusCountMeterMax) {\n        bonusCountMeter = 0; // 初期プレイ時間を更新することで、残りプレイ可能時間を延長する。\n\n        initialPlayingTimeMSec = initialPlayingTimeMSec + bonusAddPlayTime; // 延長した残りプレイ時間を表示する。\n\n        displayBonusAddPlayTime.textContent = \"+ \" + Math.ceil(bonusAddPlayTime / 1000) + \"秒\"; // 延長した残りプレイ時間をフェードアウトする。\n\n        displayBonusAddPlayTime.classList.add('fadeout'); // fadeoutのclassを取り除くことで、2回目以降も延長した残りプレイ時間が表示されるようにする。\n\n        setTimeout(function () {\n          displayBonusAddPlayTime.textContent = \"\";\n          displayBonusAddPlayTime.classList.remove('fadeout');\n        }, 2000);\n      }\n\n      ; // 更新したメーターを表示する。\n\n      document.getElementById(\"meterImg\").src = imgArray[bonusCountMeter]; // 表示文字全てタイプした場合、スコアアップ処理を実施し、次の表示文字を作成する処理を実施する。\n\n      if (charArrayInDisplayWordJap.length === 0) {\n        // 正解音を定義する。\n        // 正解音ありの場合のみ\n        if (correctAudioMode == \"正解音あり\") {\n          var correctAudio = new Audio('/assets/correctAudio.mp3'); // 正解した場合、効果音を発生させる。\n\n          correctAudio.volume = 0.3;\n          correctAudio.play();\n        }\n\n        ; // 「答えを見る」を押していなければ、スコアと正解数をカウントアップする。\n\n        if (answerOpenFlag == \"0\") {\n          // プレイモード：練習・普通の場合のみ、スコアアップする。\n          if (playMode == \"練習\" || playMode == \"普通\") {//countUpScore(); // スコアアップ処理を不要とする。\n          }\n\n          ;\n          countUpCorrectNum(); // 「答えを見る」を押していない場合、正解として記録する。\n\n          allQuestionWords.splice(allQuestionWords.length - 2, 1, \"正解\");\n        } else {\n          // 「答えを見る」を押していれば、フラグを0に戻す。\n          answerOpenFlag = \"0\"; // 「答えを見る」を押している場合、不正解として記録する。\n\n          allQuestionWords.splice(allQuestionWords.length - 2, 1, \"不正解\");\n        }\n\n        ; // 解答するまでにかかった時間を記録する。\n\n        eachQuestionAnswerTime = Math.ceil((Date.now() - eachQuestionCreateTime) / 1000);\n        var eachQuestionAnswerMin = Math.floor(eachQuestionAnswerTime / 60);\n        var eachQuestionAnswerSec = Math.ceil(eachQuestionAnswerTime % 60);\n        allQuestionWords.splice(allQuestionWords.length - 1, 1, \"\".concat(\"0\".concat(eachQuestionAnswerMin).slice(-2), \":\").concat(\"0\".concat(eachQuestionAnswerSec).slice(-2))); // 出題したすべての英単語リストに追加する。\n\n        allQuestionWordsList.push(allQuestionWords); // 丸を表示、答えを表示するなどのアニメーションを実施する。\n\n        circleImg.classList.add('circle');\n        circleImg.classList.remove('transparent');\n        displayWordKanji.classList.add('add_gray');\n        displayWordKanji.classList.add('displayWordKanji');\n        displayWordKanji.classList.remove('transparent');\n        setTimeout(createDisplayWord, 500);\n        setTimeout(function () {\n          circleImg.classList.add('transparent');\n          circleImg.classList.remove('circle');\n        }, 500);\n\n        if (playMode == \"タイムアタック\" && gameCompleteTimeAttackFlag == \"1\") {\n          // プレイモード：タイムアタックの場合、最後の問題に解答できた瞬間にフラグを２に更新する。\n          gameCompleteTimeAttackFlag = \"2\";\n          gameClose();\n        }\n\n        ;\n      }\n\n      ;\n    }\n\n    ; // 以上、タイプした文字が解答文字と一致する場合の共通処理を定義する。-----------------------------\n    // ------------------------------------------------------------------------------------\n    // 以下、タイプした文字が表示文字と不一致の場合の処理を定義する。--------------------------------\n    // ------------------------------------------------------------------------------------\n\n    function typeMissAudio() {\n      // ミス音を定義する。\n      // ミス音ありの場合のみ\n      if (incorrectAudioMode == \"ミス音あり\") {\n        var incorrectAudio = new Audio('/assets/incorrectAudio.mp3'); // ミスの場合、効果音を発生させる。\n\n        incorrectAudio.volume = 0.3;\n        incorrectAudio.play();\n      }\n\n      ;\n    }\n\n    ; // 以上、タイプした文字が表示文字と不一致の場合の処理を定義する。--------------------------------\n    // ------------------------------------------------------------------------------------\n    // 以下、英単語を生成した際に、発音させる処理を定義する。---------------------------------------\n    // ------------------------------------------------------------------------------------\n\n    function pronounce(eng_word) {\n      // résuméの場合は音声ファイルの検索ができないため、ファイルを変更\n      if (eng_word == \"résumé\") {\n        eng_word = \"rezumei\";\n      }\n\n      ;\n      var pronunciation = new Audio('/assets/発音/' + eng_word + '.mp3');\n      pronunciation.play();\n    }\n\n    ; // 以上、英単語を生成した際に、発音させる処理を定義する。---------------------------------------\n    // ------------------------------------------------------------------------------------\n  }\n\n  ;\n}\n\n;","map":{"version":3,"sources":["/Users/mondenhiroki/projects/eigomonster/app/javascript/packs/typingplay_jap.js"],"names":["window","addEventListener","document","keyDownGameStart","gameStartEnterOnlyOnce","keyDownEnter","key","getElementById","className","gameStart","wordList","gon","wordListAll","playMode","questionOrderMode","pronounceMode","bgmMode","typeAudioMode","correctAudioMode","incorrectAudioMode","imgArray","romaMappingTableFirst","romaMappingTableSecond","romaMappingTableThird","wordLetterWithSmallLetter","wordLetterSole","charArrayInDisplayWordAlphaFirst","charArrayInDisplayWordAlphaSecond","charArrayInDisplayWordAlphaThird","charArrayInDisplayWordAlphaSole","charArrayInDisplayWordAlphaSoleSecond","charArrayInDisplayWordAlphaSoleThird","shiftAlreadyStartedCountAll","shiftAlreadyStartedCountFirst","shiftAlreadyStartedCountSecond","shiftAlreadyStartedCountThird","shiftAlreadyStartedCountSoleFirst","shiftAlreadyStartedCountSoleSecond","shiftAlreadyStartedCountSoleThird","keyTempForSmallTsuPreWithNext","keyTempForSmallTsuPreFirst","keyTempForSmallTsuPreSecond","keyTempForSmallTsuPreThird","keyTempForNnPre","sortById","eachQuestionOrder","bonusCountMeter","bonusCountMeterMax","displayBonusAddPlayTime","bonusAddPlayTime","src","countDownPopup","countDownPopupNumber","textContent","timerIdToStart","setInterval","countDownTimeToStart","clearInterval","typingPlayStart","displayWord","displayWordEnglish","displayWordKanji","charArrayInDisplayWordJap","allQuestionWords","allQuestionWordsList","playEndFlag","answerOpenFlag","gameCompleteTimeAttackFlag","eachQuestionCreateTime","eachQuestionAnswerTime","createDisplayWord","startTime","Date","now","remainPlayingTime","initialPlayingTimeMSec","totalPlayingTimeMSec","setTimeout","countDownTime","timerId","circleImg","classList","add","pronounceAgainButton","innerHTML","onclick","pronounce","displayWordInList","eng_word","hintButton","remove","answerButton","i","length","totalConsecutiveNumCorrectNum","displayConsecutiveCorrectNum","restartButtonMidGame","courseSettingBackButtonMidGame","NumCorrectMidGamePlay","displayNumCorrectWord","displayNumCorrectNum","totalNumCorrectNum","displayConsecutiveCorrectWord","displayMaxConsecutiveCorrectWord","displayMaxConsecutiveCorrectNum","totalMaxConsecutiveNumCorrectNum","keyDownCharCountUp","randomIntegerInTotalWordList","Math","floor","random","splice","push","id","jap_trans_1","jap_trans_1_yomi","split","map","value","spanValue","createElement","appendChild","currentTime","diffBetweenCurrentTimeAndStartTime","remainMSec","remainAllSec","ceil","remainMin","remainSec","remainSecLabel","slice","gameClose","btnWrapperPlay","closePopupClear","closePopup","closePopupTotalQuestionNum","closePopupFinalCorrectNum","closePopupFinalMaxConsecutiveCorrectNum","restartBtn","backBtn","checkQuestions","allQuestionsListEntireScr","allQuestionsList","forEach","tr","objArray","Object","entries","arr","td","closeAllQuestionsList","remainAllSecTimeAttack","remainMinTimeAttack","remainSecTimeAttack","countUpCorrectNum","keyDownChar","correctTyping","shift","typeMissAudio","Audio","volume","play","correctAudio","eachQuestionAnswerMin","eachQuestionAnswerSec","incorrectAudio","pronunciation"],"mappings":"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","sourcesContent":["// ゲーム開始画面から遷移してきた際に処理を実施する。\nwindow.addEventListener('load', function(){\n\t// Enterを押下するとゲーム開始のカウントダウンがスタートする処理を呼び出す。\n\tdocument.addEventListener(`keydown`, keyDownGameStart);\n});\n\n// スペースかEnterキー押下によるゲームスタートを一回限りとするフラグを設定する。\nlet gameStartEnterOnlyOnce = \"0\";\n\n// スペースかEnterキーを押下するとゲーム開始のカウントダウンがスタートする。\nfunction keyDownGameStart(keyDownEnter){\n\tif ((keyDownEnter.key === 'Enter' || keyDownEnter.key === \" \") && gameStartEnterOnlyOnce == \"0\") {\n\t\t// 表示されている文字を非表示にする。\n\t\tdocument.getElementById(\"useKeyboardPopup\").className = \"transparent\";\n\t\tdocument.getElementById(\"pressEnterPopup\").className = \"transparent\";\n\t\tdocument.getElementById(\"annotationAudio\").className = \"transparent\";\n\t\tdocument.getElementById(\"backBtnTypingPlay\").className = \"transparent\";\n\t\tgameStartEnterOnlyOnce = \"1\";\n\t\tgameStart();\n\t};\n};\n\n\n// 選択した英単語難易度によって変わるwordListの定義\nconst wordList = gon.wordListAll;\n\n// 選択したプレイモードによって変わるplayModeの定義\nconst playMode = gon.playMode;\n\n// 出題順の設定によって変わるpronounceModeの定義\nconst questionOrderMode = gon.questionOrderMode;\n\n// 英単語の発音有無の設定によって変わるpronounceModeの定義\nconst pronounceMode = gon.pronounceMode;\n\n// BGMの設定によって変わるbgmModeの定義\nconst bgmMode = gon.bgmMode;\n\n// タイプ音の設定によって変わるtypeAudioModeの定義\nconst typeAudioMode = gon.typeAudioMode;\n\n// 正解音の設定によって変わるcorrectAudioModeの定義\nconst correctAudioMode = gon.correctAudioMode;\n\n// ミス音の設定によって変わるincorrectAudioModeの定義\nconst incorrectAudioMode = gon.incorrectAudioMode;\n\n\n\nfunction gameStart(){\n\n\t// 表示する単語リストを定義する。\n\t// chromeの場合\"ff\"が正常に動作しない。\n\n\t// 表示するメーターリストを定義する。\n\tconst imgArray =[\n\t\t'/assets/メーターPNG/メーター0.png',\n\t\t'/assets/メーターPNG/メーター10_yellow.png',\n\t\t'/assets/メーターPNG/メーター20_yellow.png',\n\t\t'/assets/メーターPNG/メーター30_yellow.png',\n\t\t'/assets/メーターPNG/メーター40_yellow.png',\n\t\t'/assets/メーターPNG/メーター50_yellow.png',\n\t\t'/assets/メーターPNG/メーター60_yellow.png',\n\t\t'/assets/メーターPNG/メーター70_yellow.png',\n\t\t'/assets/メーターPNG/メーター80_yellow.png',\n\t\t'/assets/メーターPNG/メーター90_yellow.png',\n\t\t'/assets/メーターPNG/メーター100_yellow.png',\n\t\t'/assets/メーターPNG/メーター10_green.png',\n\t\t'/assets/メーターPNG/メーター20_green.png',\n\t\t'/assets/メーターPNG/メーター30_green.png',\n\t\t'/assets/メーターPNG/メーター40_green.png',\n\t\t'/assets/メーターPNG/メーター50_green.png',\n\t\t'/assets/メーターPNG/メーター60_green.png',\n\t\t'/assets/メーターPNG/メーター70_green.png',\n\t\t'/assets/メーターPNG/メーター80_green.png',\n\t\t'/assets/メーターPNG/メーター90_green.png',\n\t\t'/assets/メーターPNG/メーター100_green.png',\n\t\t'/assets/メーターPNG/メーター10_blue.png',\n\t\t'/assets/メーターPNG/メーター20_blue.png',\n\t\t'/assets/メーターPNG/メーター30_blue.png',\n\t\t'/assets/メーターPNG/メーター40_blue.png',\n\t\t'/assets/メーターPNG/メーター50_blue.png',\n\t\t'/assets/メーターPNG/メーター60_blue.png',\n\t\t'/assets/メーターPNG/メーター70_blue.png',\n\t\t'/assets/メーターPNG/メーター80_blue.png',\n\t\t'/assets/メーターPNG/メーター90_blue.png',\n\t\t'/assets/メーターPNG/メーター100_blue.png',\n\t\t'/assets/メーターPNG/メーター10_pink.png',\n\t\t'/assets/メーターPNG/メーター20_pink.png',\n\t\t'/assets/メーターPNG/メーター30_pink.png',\n\t\t'/assets/メーターPNG/メーター40_pink.png',\n\t\t'/assets/メーターPNG/メーター50_pink.png',\n\t\t'/assets/メーターPNG/メーター60_pink.png',\n\t\t'/assets/メーターPNG/メーター70_pink.png',\n\t\t'/assets/メーターPNG/メーター80_pink.png',\n\t\t'/assets/メーターPNG/メーター90_pink.png',\n\t\t'/assets/メーターPNG/メーター100_pink.png',\n\t\t'/assets/メーターPNG/メーター10_red.png',\n\t\t'/assets/メーターPNG/メーター20_red.png',\n\t\t'/assets/メーターPNG/メーター30_red.png',\n\t\t'/assets/メーターPNG/メーター40_red.png',\n\t\t'/assets/メーターPNG/メーター50_red.png',\n\t\t'/assets/メーターPNG/メーター60_red.png',\n\t\t'/assets/メーターPNG/メーター70_red.png',\n\t\t'/assets/メーターPNG/メーター80_red.png',\n\t\t'/assets/メーターPNG/メーター90_red.png',\n\t\t'/assets/メーターPNG/メーター100_red.png'\n\t];\n\n\tconst romaMappingTableFirst = {\n\t\t\"あ\":\"a\",\n\t\t\"い\":\"i\",\n\t\t\"う\":\"u\",\n\t\t\"え\":\"e\",\n\t\t\"お\":\"o\",\n\t\t\"か\":\"ka\",\n\t\t\"き\":\"ki\",\n\t\t\"く\":\"ku\",\n\t\t\"け\":\"ke\",\n\t\t\"こ\":\"ko\",\n\t\t\"さ\":\"sa\",\n\t\t\"し\":\"si\",\n\t\t\"す\":\"su\",\n\t\t\"せ\":\"se\",\n\t\t\"そ\":\"so\",\n\t\t\"た\":\"ta\",\n\t\t\"ち\":\"ti\",\n\t\t\"つ\":\"tu\",\n\t\t\"て\":\"te\",\n\t\t\"と\":\"to\",\n\t\t\"な\":\"na\",\n\t\t\"に\":\"ni\",\n\t\t\"ぬ\":\"nu\",\n\t\t\"ね\":\"ne\",\n\t\t\"の\":\"no\",\n\t\t\"は\":\"ha\",\n\t\t\"ひ\":\"hi\",\n\t\t\"ふ\":\"hu\",\n\t\t\"へ\":\"he\",\n\t\t\"ほ\":\"ho\",\n\t\t\"ま\":\"ma\",\n\t\t\"み\":\"mi\",\n\t\t\"む\":\"mu\",\n\t\t\"め\":\"me\",\n\t\t\"も\":\"mo\",\n\t\t\"や\":\"ya\",\n\t\t\"ゆ\":\"yu\",\n\t\t\"よ\":\"yo\",\n\t\t\"ら\":\"ra\",\n\t\t\"り\":\"ri\",\n\t\t\"る\":\"ru\",\n\t\t\"れ\":\"re\",\n\t\t\"ろ\":\"ro\",\n\t\t\"わ\":\"wa\",\n\t\t\"を\":\"wo\",\n\t\t\"が\":\"ga\",\n\t\t\"ぎ\":\"gi\",\n\t\t\"ぐ\":\"gu\",\n\t\t\"げ\":\"ge\",\n\t\t\"ご\":\"go\",\n\t\t\"ざ\":\"za\",\n\t\t\"じ\":\"zi\",\n\t\t\"ず\":\"zu\",\n\t\t\"ぜ\":\"ze\",\n\t\t\"ぞ\":\"zo\",\n\t\t\"だ\":\"da\",\n\t\t\"ぢ\":\"di\",\n\t\t\"づ\":\"du\",\n\t\t\"で\":\"de\",\n\t\t\"ど\":\"do\",\n\t\t\"ば\":\"ba\",\n\t\t\"び\":\"bi\",\n\t\t\"ぶ\":\"bu\",\n\t\t\"べ\":\"be\",\n\t\t\"ぼ\":\"bo\",\n\t\t\"ぱ\":\"pa\",\n\t\t\"ぴ\":\"pi\",\n\t\t\"ぷ\":\"pu\",\n\t\t\"ぺ\":\"pe\",\n\t\t\"ぽ\":\"po\",\n\t\t\"ぁ\":\"la\",\n\t\t\"ぃ\":\"li\",\n\t\t\"ぅ\":\"lu\",\n\t\t\"ぇ\":\"le\",\n\t\t\"ぉ\":\"lo\",\n\t\t\"ゃ\":\"lya\",\n\t\t\"ゅ\":\"lyu\",\n\t\t\"ょ\":\"lyo\",\n\t\t\"でゃ\":\"dha\",\n\t\t\"でぃ\":\"dhi\",\n\t\t\"でゅ\":\"dhu\",\n\t\t\"でぇ\":\"dhe\",\n\t\t\"でょ\":\"dho\",\n\t\t\"つぁ\":\"tsa\",\n\t\t\"つぃ\":\"tsi\",\n\t\t\"つぇ\":\"tse\",\n\t\t\"つぉ\":\"tso\",\n\t\t\"てゃ\":\"tha\",\n\t\t\"てぃ\":\"thi\",\n\t\t\"てゅ\":\"thu\",\n\t\t\"てぇ\":\"the\",\n\t\t\"てょ\":\"tho\",\n\t\t\"ふぁ\":\"fa\",\n\t\t\"ふぃ\":\"fi\",\n\t\t\"ふぇ\":\"fe\",\n\t\t\"ふぉ\":\"fo\",\n\t\t\"うぁ\":\"wha\",\n\t\t\"うぃ\":\"wi\",\n\t\t\"うぇ\":\"we\",\n\t\t\"うぉ\":\"who\",\n\t\t\"ゔぁ\":\"va\",\n\t\t\"ゔぃ\":\"vi\",\n\t\t\"ゔ\":\"vu\",\n\t\t\"ゔぇ\":\"ve\",\n\t\t\"ゔぉ\":\"vo\",\n\t\t\"きゃ\":\"kya\",\n\t\t\"きぃ\":\"kyi\",\n\t\t\"きゅ\":\"kyu\",\n\t\t\"きぇ\":\"kye\",\n\t\t\"きょ\":\"kyo\",\n\t\t\"ぎゃ\":\"gya\",\n\t\t\"ぎぃ\":\"gyi\",\n\t\t\"ぎゅ\":\"gyu\",\n\t\t\"ぎぇ\":\"gye\",\n\t\t\"ぎょ\":\"gyo\",\n\t\t\"しゃ\":\"sya\",\n\t\t\"しぃ\":\"syi\",\n\t\t\"しゅ\":\"syu\",\n\t\t\"しぇ\":\"sye\",\n\t\t\"しょ\":\"syo\",\n\t\t\"じゃ\":\"zya\",\n\t\t\"じぃ\":\"zyi\",\n\t\t\"じゅ\":\"zyu\",\n\t\t\"じぇ\":\"zye\",\n\t\t\"じょ\":\"zyo\",\n\t\t\"ちゃ\":\"tya\",\n\t\t\"ちぃ\":\"tyi\",\n\t\t\"ちゅ\":\"tyu\",\n\t\t\"ちぇ\":\"tye\",\n\t\t\"ちょ\":\"tyo\",\n\t\t\"ぢゃ\":\"dya\",\n\t\t\"ぢぃ\":\"dyi\",\n\t\t\"ぢゅ\":\"dyu\",\n\t\t\"ぢぇ\":\"dye\",\n\t\t\"ぢょ\":\"dyo\",\n\t\t\"にゃ\":\"nya\",\n\t\t\"にぃ\":\"nyi\",\n\t\t\"にゅ\":\"nyu\",\n\t\t\"にぇ\":\"nye\",\n\t\t\"にょ\":\"nyo\",\n\t\t\"ひゃ\":\"hya\",\n\t\t\"ひぃ\":\"hyi\",\n\t\t\"ひゅ\":\"hyu\",\n\t\t\"ひぇ\":\"hye\",\n\t\t\"ひょ\":\"hyo\",\n\t\t\"びゃ\":\"bya\",\n\t\t\"びぃ\":\"byi\",\n\t\t\"びゅ\":\"byu\",\n\t\t\"びぇ\":\"bye\",\n\t\t\"びょ\":\"byo\",\n\t\t\"ぴゃ\":\"pya\",\n\t\t\"ぴぃ\":\"pyi\",\n\t\t\"ぴゅ\":\"pyu\",\n\t\t\"ぴぇ\":\"pye\",\n\t\t\"ぴょ\":\"pyo\",\n\t\t\"ふゃ\":\"fya\",\n\t\t\"ふぃ\":\"fyi\",\n\t\t\"ふゅ\":\"fyu\",\n\t\t\"ふぇ\":\"fye\",\n\t\t\"ふょ\":\"fyo\",\n\t\t\"みゃ\":\"mya\",\n\t\t\"みぃ\":\"myi\",\n\t\t\"みゅ\":\"myu\",\n\t\t\"みぇ\":\"mye\",\n\t\t\"みょ\":\"myo\",\n\t\t\"りゃ\":\"rya\",\n\t\t\"りぃ\":\"ryi\",\n\t\t\"りゅ\":\"ryu\",\n\t\t\"りぇ\":\"rye\",\n\t\t\"りょ\":\"ryo\",\n\t\t\"くぁ\":\"kwa\",\n\t\t\"ぐぁ\":\"gwa\",\n\t\t\"とぅ\":\"twu\",\n\t\t\"どぅ\":\"dwu\",\n\t\t\"いぇ\":\"ye\",\n\t\t\"ー\":\"-\"\n\t};\n\n\tconst romaMappingTableSecond = {\n\t\t\"い\":\"yi\",\n\t\t\"か\":\"ca\",\n\t\t\"く\":\"cu\",\n\t\t\"こ\":\"co\",\n\t\t\"し\":\"shi\",\n\t\t\"せ\":\"ce\",\n\t\t\"ち\":\"chi\",\n\t\t\"つ\":\"tsu\",\n\t\t\"ふ\":\"fu\",\n\t\t\"じ\":\"ji\",\n\t\t\"ぁ\":\"xa\",\n\t\t\"ぃ\":\"xi\",\n\t\t\"ぅ\":\"xu\",\n\t\t\"ぇ\":\"xe\",\n\t\t\"ぉ\":\"xo\",\n\t\t\"ゃ\":\"xya\",\n\t\t\"ゅ\":\"xyu\",\n\t\t\"ょ\":\"xyo\",\n\t\t\"しゃ\":\"sha\",\n\t\t\"しゅ\":\"shu\",\n\t\t\"しぇ\":\"she\",\n\t\t\"しょ\":\"sho\",\n\t\t\"じゃ\":\"ja\",\n\t\t\"じぃ\":\"jyi\",\n\t\t\"じゅ\":\"ju\",\n\t\t\"じぇ\":\"je\",\n\t\t\"じょ\":\"jo\",\n\t\t\"ちゃ\":\"cha\",\n\t\t\"ちぃ\":\"cyi\",\n\t\t\"ちゅ\":\"chu\",\n\t\t\"ちぇ\":\"che\",\n\t\t\"ちょ\":\"cho\",\n\t\t\"うぃ\":\"whi\",\n\t\t\"うぇ\":\"whe\"\n\t};\n\n\tconst romaMappingTableThird = {\n\t\t\"し\":\"ci\",\n\t\t\"じゃ\":\"jya\",\n\t\t\"じゅ\":\"jyu\",\n\t\t\"じぇ\":\"jye\",\n\t\t\"じょ\":\"jyo\",\n\t\t\"ちゃ\":\"cya\",\n\t\t\"ちゅ\":\"cyu\",\n\t\t\"ちぇ\":\"cye\",\n\t\t\"ちょ\":\"cyo\"\n\t};\n\n\t// タイピングの正誤判定に使用する変数を定義する。\n\tlet wordLetterWithSmallLetter = \"\";\n\tlet wordLetterSole = \"\";\n\n\tlet charArrayInDisplayWordAlphaFirst = [];\n\tlet charArrayInDisplayWordAlphaSecond = [];\n\tlet charArrayInDisplayWordAlphaThird = [];\n\tlet charArrayInDisplayWordAlphaSole = [];\n\tlet charArrayInDisplayWordAlphaSoleSecond = [];\n\tlet charArrayInDisplayWordAlphaSoleThird = [];\n\n\tlet shiftAlreadyStartedCountAll = 0;\n\tlet shiftAlreadyStartedCountFirst = 0;\n\tlet shiftAlreadyStartedCountSecond = 0;\n\tlet shiftAlreadyStartedCountThird = 0;\n\tlet shiftAlreadyStartedCountSoleFirst = 0;\n\tlet shiftAlreadyStartedCountSoleSecond = 0;\n\tlet shiftAlreadyStartedCountSoleThird = 0;\n\n\tlet keyTempForSmallTsuPreWithNext = \"\";\n\tlet keyTempForSmallTsuPreFirst = \"\";\n\tlet keyTempForSmallTsuPreSecond = \"\";\n\tlet keyTempForSmallTsuPreThird = \"\";\n\tlet keyTempForNnPre = \"\";\n\n\n\t// 英単語を順番に出題する場合の番号の初期値を定義する。\n\tlet sortById = 0;\n\n\t// 英単語の出題順の初期値を定義する。\n\tlet eachQuestionOrder = 0;\n\n\t// 表示するメーター初期値を定義する。\n\tlet bonusCountMeter = 0;\n\t// 表示するメーター最大値を定義する。\n\tconst bonusCountMeterMax = 50;\n\t// 表示するプレイ延長時間を定義する。\n\tconst displayBonusAddPlayTime = document.getElementById(\"displayBonusAddPlayTime\");\n\tdisplayBonusAddPlayTime.className =  \"displayBonusAddPlayTime\";\n\t// メーター最大値に達した際の延長するプレイ時間を定義する。\n\tconst bonusAddPlayTime = 3000;\n\n\n\t// メーターの初期値を表示する。\n\tdocument.getElementById(\"meterImg\").src=imgArray[bonusCountMeter];\n\t// ゲーム開始までをカウントダウン変数を定義する。\n\tlet countDownPopup = document.getElementById(\"countDownPopup\");\n\t// class属性を付与する。\n\tcountDownPopup.className = \"countDownPopup\";\n\t// ゲーム開始までをカウントダウン変数の初期値を定義する。\n\tlet countDownPopupNumber = 3;\n\t// ゲーム開始までをカウントダウン変数の初期値を表示する。\n\tcountDownPopup.textContent = countDownPopupNumber;\n\n\n\t// ゲーム開始までをカウントダウンを1秒ごとに実施するように定義する。\n\tconst timerIdToStart = setInterval(countDownTimeToStart,1000);\n\n\n\n\n\n\t\t// ゲーム開始までをカウントダウンを実施する処理を定義する。\n\t\tfunction countDownTimeToStart(){\n\t\t\t\t// カウントダウン文字を１ずつ減らす。\n\t\t\t\tcountDownPopupNumber = countDownPopupNumber - 1;\n\t\t\t\t//カウントダウンが0になれば、ゲームを開始する。\n\t\t\t\tif (countDownPopupNumber <= 0){\n\t\t\t\tclearInterval(timerIdToStart);\n\t\t\t\t// カウントダウンポップアップのクラスを変更し、非表示にする。\n\t\t\t\tcountDownPopup.className = \"countDownPopupAfterClose\";\n\t\t\t\ttypingPlayStart();\n\t\t\t\t} else {\n\t\t\t\tcountDownPopup.textContent = countDownPopupNumber;\n\t\t\t\t}\n\t\t}\n\n\n\t\t// ゲームを開始する処理を定義する。\n\t\tfunction typingPlayStart(){\n\n\t\t\t\t// 表示する単語を定義する。\n\t\t\t\tconst displayWord = document.getElementById(\"displayWord\");\n\t\t\t\tdisplayWord.className =  \"displayWord\";\n\t\t\t\tconst displayWordEnglish = document.getElementById(\"displayWordEnglish\");\n\t\t\t\tdisplayWordEnglish.className =  \"displayWordEnglish\";\n\t\t\t\tconst displayWordKanji = document.getElementById(\"displayWordKanji\");\n\t\t\t\tdisplayWordKanji.className =  \"displayWordKanji\";\n\n\t\t\t\t// 表示する単語を一文字ずつに分ける変数を定義する。\n\t\t\t\tlet charArrayInDisplayWordJap =[];\n\n\t\t\t\t// 出題した英単語を格納する配列を定義する。\n\t\t\t\tlet allQuestionWords =[];\n\t\t\t\t// 出題したすべての英単語を格納する配列を定義する。\n\t\t\t\tlet allQuestionWordsList =[];\n\n\n\t\t\t\t// ゲーム終了を判定するフラグを定義する。\n\t\t\t\tlet playEndFlag = \"0\";\n\n\t\t\t\t// 「答えを見る」ボタン押下有無を判定するフラグを定義する。\n\t\t\t\tlet answerOpenFlag = \"0\";\n\n\t\t\t\t// プレイモード：タイムアタックですべての出題範囲に解答済み判定フラグを設定する。\n\t\t\t\tlet gameCompleteTimeAttackFlag = \"0\";\n\n\t\t\t\t// 問題を作成した時間を定義する。\n\t\t\t\tlet eachQuestionCreateTime = 0;\n\t\t\t\t// 問題を解答するのに要した時間を定義する。\n\t\t\t\tlet eachQuestionAnswerTime = 0;\n\n\t\t\t\t// 表示する単語を作成する。\n\t\t\t\tcreateDisplayWord();\n\n\t\t\t\t// プレイ開始時間を取得する。\n\t\t\t\tconst startTime = Date.now();\n\t\t\t\t// 表示する残りのプレイ可能時間を定義する。\n\t\t\t\tlet remainPlayingTime = document.getElementById(\"remainPlayingTime\");\n\t\t\t\tremainPlayingTime.className =  \"remainPlayingTime\";\n\n\n\n\t\t\t\t// 表示するスタート時のプレイ可能時間を定義する。\n\t\t\t\t// プレイモード：タイムアタックの場合は5分とする。\n\t\t\t\tlet initialPlayingTimeMSec = 30000;\n\n\t\t\t\t// プレイモード：タイムアタックの場合は30分とする。\n\t\t\t\tif ( playMode == \"タイムアタック\") {\n\t\t\t\t\tinitialPlayingTimeMSec = 1800000;\n\t\t\t\t};\n\t\t\t\t// プレイモード：タイムアタックの場合、ゲームクリア後に合計プレイ時間表示する。\n\t\t\t\tlet totalPlayingTimeMSec = 0;\n\n\n\n\t\t\t\t// スタート時に残りのプレイ可能時間の初期値を表示するためにcountDownTimeを実施する。\n\t\t\t\tsetTimeout(countDownTime,0);\n\t\t\t\t// 1秒ごとにcountDownTimeを実施するように定義する。\n\t\t\t\tconst timerId = setInterval(countDownTime,1000);\n\n\t\t\t\t// 正解時に表示する丸を定義する。\n\t\t\t\tdocument.getElementById(\"circleImg\").src= '/assets/正解○.png';\n\t\t\t\tcircleImg.classList.add('transparent');\n\n\n\t\t\t\t// \"発音を聞く\"ボタンを表示する。\n\t\t\t\tlet pronounceAgainButton = document.getElementById(\"pronounceAgainButton\");\n\t\t\t\tpronounceAgainButton.innerHTML = \"発音を聞く\";\n\t\t\t\tpronounceAgainButton.className = \"pronounceAgainButton\";\n\t\t\t\tpronounceAgainButton.onclick = function() {\n\t\t\t\t\tpronounce(displayWordInList.eng_word);\n\t\t\t\t};\n\t\t\t\t// \"ヒントを見る\"ボタンを表示する。(プレイモード普通、タイムアタックの時のみ機能)\n\t\t\t\tlet hintButton = document.getElementById(\"hintButton\");\n\t\t\t\thintButton.innerHTML = \"ヒントを見る\";\n\t\t\t\tif (playMode == \"普通\" || playMode == \"タイムアタック\" ) {\n\t\t\t\t\thintButton.className = \"hintButton\";\n\t\t\t\t\thintButton.onclick = function() {\n\t\t\t\t\t\tcharArrayInDisplayWordJap[0].classList.remove('transparent');\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\thintButton.className = \"hintButtonPractice\";\n\t\t\t\t};\n\t\t\t\t// \"答えを見る\"ボタンを表示する。(プレイモード普通、タイムアタックの時のみ機能)\n\t\t\t\tlet answerButton = document.getElementById(\"answerButton\");\n\t\t\t\tanswerButton.innerHTML = \"答えを見る\";\n\t\t\t\tif (playMode == \"普通\" || playMode == \"タイムアタック\" ) {\n\t\t\t\t\tanswerButton.className = \"answerButton\";\n\t\t\t\t\tanswerButton.onclick = function() {\n\t\t\t\t\t\tfor (let i = 0; i < charArrayInDisplayWordJap.length; i++) {\n\t\t\t\t\t\t\tcharArrayInDisplayWordJap[i].classList.remove('transparent');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisplayWordKanji.className =  \"displayWordKanji\";\n\n\t\t\t\t\t\t// 連続正解数を0に戻す。\n\t\t\t\t\t\ttotalConsecutiveNumCorrectNum = 0;\n\t\t\t\t\t\tdisplayConsecutiveCorrectNum.textContent = totalConsecutiveNumCorrectNum;\n\n\t\t\t\t\t\t// メーターを初期値に戻す。\n\t\t\t\t\t\tbonusCountMeter = 0;\n\t\t\t\t\t\tdocument.getElementById(\"meterImg\").src=imgArray[bonusCountMeter];\n\n\t\t\t\t\t\t// 「答えを見る」判定フラグを更新する。\n\t\t\t\t\t\tanswerOpenFlag = \"1\";\n\n\t\t\t\t\t};\n\t\t\t\t} else { // (プレイモード練習の時)\n\t\t\t\t\tanswerButton.className = \"answerButtonPractice\";\n\t\t\t\t};\n\n\t\t\t\t// \"最初からやり直す\"ボタンを表示する。\n\t\t\t\tconst restartButtonMidGame = document.getElementById(\"restartButtonMidGame\");\n\t\t\t\trestartButtonMidGame.classList.remove('transparent');\n\t\t\t\t// \"コース選択画面に戻る\"ボタンを表示する。\n\t\t\t\tconst courseSettingBackButtonMidGame = document.getElementById(\"courseSettingBackButtonMidGame\");\n\t\t\t\tcourseSettingBackButtonMidGame.classList.remove('transparent');\n\n\n\t\t\t\t// 以下、スコア定義---------------------------------------------------------------------------------------------------\n\t\t\t\t// -----------------------------------------------------------------------------------------------------------------\n\n\t\t\t\t// // プレイモード：練習・普通の場合はスコアを表示させる。\n\t\t\t\t// // プレイモード：タイムアタックはスコアを表示させない。\n\t\t\t\t// if ( playMode == \"練習\" || playMode == \"普通\") {\n\t\t\t\t// \t// 表示するスコアを定義する。\n\t\t\t\t// \tlet displayScoreEntire = document.getElementById(\"displayScoreEntire\");\n\t\t\t\t// \tdisplayScoreEntire.className =  \"displayScoreEntire\";\n\t\t\t\t// \tlet displayScore = document.getElementById(\"displayScore\");\n\t\t\t\t// \tdisplayScore.className =  \"displayScore\";\n\t\t\t\t// \tlet displayP = document.getElementById(\"displayP\");\n\t\t\t\t// \tdisplayP.className =  \"displayP\";\n\t\t\t\t// };\n\n\t\t\t\t// プレモード：練習・普通の場合のみ使用する。----------------------------\n\t\t\t\t// ---------------------------------------------------------------\n\t\t\t\t// // 合計スコアの初期値を定義する。\n\t\t\t\t// let totalScore = 0;\n\t\t\t\t// // スコアアップする基準を定義する。\n\t\t\t\t// const refTextLengthForCountUpLevel1 = 4;\n\t\t\t\t// const addScoreLevel1 = 50;\n\t\t\t\t// const addScoreLevel2 = 50;\n\t\t\t\t// ---------------------------------------------------------------\n\t\t\t\t// ---------------------------------------------------------------\n\n\n\t\t\t\t// 表示する正解数全体のクラス\n\t\t\t\tlet NumCorrectMidGamePlay = document.getElementById(\"NumCorrectMidGamePlay\");\n\t\t\t\tNumCorrectMidGamePlay.className =  \"NumCorrectMidGamePlay\";\n\n\t\t\t\t// 表示する正解数を定義する。\n\t\t\t\tlet displayNumCorrectWord = document.getElementById(\"displayNumCorrectWord\");\n\t\t\t\tdisplayNumCorrectWord.className =  \"displayNumCorrectWord\";\n\t\t\t\tdisplayNumCorrectWord.textContent = \"合計正解数\";\n\t\t\t\tlet displayNumCorrectNum = document.getElementById(\"displayNumCorrectNum\");\n\t\t\t\tdisplayNumCorrectNum.className =  \"displayNumCorrectNum\";\n\t\t\t\tlet totalNumCorrectNum = 0;\n\t\t\t\tdisplayNumCorrectNum.textContent = totalNumCorrectNum;\n\n\t\t\t\t// 表示する連続正解数を定義する。\n\t\t\t\tlet displayConsecutiveCorrectWord = document.getElementById(\"displayConsecutiveCorrectWord\");\n\t\t\t\tdisplayConsecutiveCorrectWord.className =  \"displayConsecutiveCorrectWord\";\n\t\t\t\tdisplayConsecutiveCorrectWord.textContent = \"連続正解数\";\n\t\t\t\tlet displayConsecutiveCorrectNum = document.getElementById(\"displayConsecutiveCorrectNum\");\n\t\t\t\tdisplayConsecutiveCorrectNum.className =  \"displayConsecutiveCorrectNum\";\n\t\t\t\tlet totalConsecutiveNumCorrectNum = 0;\n\t\t\t\tdisplayConsecutiveCorrectNum.textContent = totalConsecutiveNumCorrectNum;\n\n\t\t\t\t// 表示する最高連続正解数を定義する。\n\t\t\t\tlet displayMaxConsecutiveCorrectWord = document.getElementById(\"displayMaxConsecutiveCorrectWord\");\n\t\t\t\tdisplayMaxConsecutiveCorrectWord.className =  \"displayMaxConsecutiveCorrectWord\";\n\t\t\t\tdisplayMaxConsecutiveCorrectWord.textContent = \"最高連続正解数\";\n\t\t\t\tlet displayMaxConsecutiveCorrectNum = document.getElementById(\"displayMaxConsecutiveCorrectNum\");\n\t\t\t\tdisplayMaxConsecutiveCorrectNum.className =  \"displayMaxConsecutiveCorrectNum\";\n\t\t\t\tlet totalMaxConsecutiveNumCorrectNum = 0;\n\t\t\t\tdisplayMaxConsecutiveCorrectNum.textContent = totalMaxConsecutiveNumCorrectNum;\n\n\t\t\t\t// 以上、スコア定義---------------------------------------------------------------------------------------------------\n\t\t\t\t// -----------------------------------------------------------------------------------------------------------------\n\n\n\t\t\t\t// タイプされる度にkeyDownCharCountUpを実施するように定義する。\n\t\t\t\tdocument.addEventListener(`keydown`, keyDownCharCountUp);\n\n\n\n\t\t\t\t// 以下、表示する単語を作成する処理を定義する。-----------------------------------------------\n\t\t\t\t// ------------------------------------------------------------------------------------\n\t\t\t\tfunction createDisplayWord(){\n\t\t\t\t\t// すでにゲームが終了している場合、新規ワードを生成しない。ゲーム中のみ生成する。\n\t\t\t\t\t// ギリギリで問題に正解した場合、○を表示した後、500m秒後にワードを生成する処理が走るため。\n\t\t\t\t\tif(playEndFlag === \"0\"){\n\n\t\t\t\t\t\t// 表示単語を初期化する。\n\t\t\t\t\t\tdisplayWord.textContent = \"\";\n\n\t\t\t\t\t\t// 問題を作成した時間を記録する。\n\t\t\t\t\t\teachQuestionCreateTime = Date.now();\n\n\t\t\t\t\t\t// 前回の問題に要した時間を初期値に戻す。\n\t\t\t\t\t\teachQuestionAnswerTime = 0;\n\n\t\t\t\t\t\t// 出題順の設定により、displayWordInListを変更\n\t\t\t\t\t\tif (questionOrderMode == \"番号順\") {\n\t\t\t\t\t\t\t// 英単語を順番に出題する場合の番号の初期値を定義する。\n\t\t\t\t\t\t\tdisplayWordInList = wordList[sortById];\n\t\t\t\t\t\t\tsortById++;\n\t\t\t\t\t\t\t// sortByIdが出題英単語数を超えた場合、初期値に戻す。\n\t\t\t\t\t\t\tif (sortById >= wordList.length) {\n\t\t\t\t\t\t\t\tsortById = 0;\n\t\t\t\t\t\t\t\t// プレイモード：タイムアタックの場合、次の問題に正解した時点でゲーム終了とする。\n\t\t\t\t\t\t\t\tif ( playMode == \"タイムアタック\" ) {\n\t\t\t\t\t\t\t\t\t// フラグを1に更新する。\n\t\t\t\t\t\t\t\t\tgameCompleteTimeAttackFlag = \"1\";\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t};\n\n\n\t\t\t\t\t\t} else { // 出題順がランダムの場合\n\t\t\t\t\t\t\t// 0〜textListsの総数間で整数値をランダムで算出する。\n\t\t\t\t\t\t\tlet randomIntegerInTotalWordList = Math.floor(Math.random() * wordList.length);\n\n\t\t\t\t\t\t\t// 表示する単語をランダムで選定する。\n\t\t\t\t\t\t\tdisplayWordInList = wordList[randomIntegerInTotalWordList];\n\n\t\t\t\t\t\t\t// プレイモード：タイムアタックの場合は、wordListから表示単語を削除する。\n\t\t\t\t\t\t\tif ( playMode == \"タイムアタック\" ) {\n\t\t\t\t\t\t\t\t// 同じ問題を２度出題しないように、一度出題した問題はwordListから削除する。\n\t\t\t\t\t\t\t\twordList.splice( randomIntegerInTotalWordList, 1);\n\t\t\t\t\t\t\t\t// wordList.length == 0になった場合、次の問題に正解した時点でゲーム終了とする。\n\t\t\t\t\t\t\t\tif (wordList.length == 0){\n\t\t\t\t\t\t\t\t\t// フラグを1に更新する。\n\t\t\t\t\t\t\t\t\tgameCompleteTimeAttackFlag = \"1\";\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// 前回出題した英単語を allQuestionWords から削除し、初期値に戻す。\n\t\t\t\t\t\tallQuestionWords = [];\n\t\t\t\t\t\t// 問題の出題順を+1する。\n\t\t\t\t\t\teachQuestionOrder = eachQuestionOrder + 1;\n\t\t\t\t\t\t// 出題した英単語displayWordInList を allQuestionWords に格納する。\n\t\t\t\t\t\tallQuestionWords.push(eachQuestionOrder, displayWordInList.id,\"▷\" ,displayWordInList.eng_word, displayWordInList.jap_trans_1, \"未解答\", \"-\");\n\n\n\t\t\t\t\t\t// 英単語を生成した際に、発音させる。（発音ありの場合のみ）\n\t\t\t\t\t\tif (pronounceMode == \"発音あり\") {\n\t\t\t\t\t\t\tpronounce(displayWordInList.eng_word);\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// 英単語を表示させる。\n\t\t\t\t\t\tdisplayWordEnglish.textContent = displayWordInList.eng_word;\n\t\t\t\t\t\t// 日本語訳(漢字)を表示させる。\n\t\t\t\t\t\tdisplayWordKanji.textContent = displayWordInList.jap_trans_1;\n\t\t\t\t\t\t// プレイモード練習の時は、答えとして漢字を表示させ、普通、タイムアタックでは非表示にする。\n\t\t\t\t\t\tif ( playMode == \"練習\" ) {\n\t\t\t\t\t\t\tdisplayWordKanji.className =  \"displayWordKanji\";\n\t\t\t\t\t\t} else if ( playMode == \"普通\" || playMode == \"タイムアタック\") {\n\t\t\t\t\t\t\tdisplayWordKanji.className =  \"transparent\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdisplayWordKanji.className =  \"transparent\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// 表示する単語を一文字ごとに区切り、spanタグで閉じる。\n\t\t\t\t\t\t// spanタグで閉じた単語を表示する。\n\t\t\t\t\t\tcharArrayInDisplayWordJap = displayWordInList.jap_trans_1_yomi.split(\"\").map(function(value){\n\t\t\t\t\t\t\t// spanタグを作成する。\n\t\t\t\t\t\t\tlet spanValue = document.createElement(\"span\");\n\t\t\t\t\t\t\t// spanタグに一文字を挿入する。\n\t\t\t\t\t\t\tspanValue.textContent = value;\n\t\t\t\t\t\t\t// 各文字（ひらがな）に対して、transparentクラスを付与する。（プレイモード普通、タイムアタックのときのみ）\n\t\t\t\t\t\t\tif ( playMode == \"普通\" || playMode == \"タイムアタック\") {\n\t\t\t\t\t\t\t\tspanValue.className = \"transparent\";\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t// 表示する単語にspanタグで閉じた一文字を追加する。\n\t\t\t\t\t\t\tdisplayWord.appendChild(spanValue);\n\t\t\t\t\t\t\treturn spanValue;\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t\t// 以上、表示する単語を作成する処理を定義する。-----------------------------------------------\n\t\t\t\t// ------------------------------------------------------------------------------------\n\n\n\t\t\t\t// 以下、プレイ時間をカウントダウンする処理を定義する。-----------------------------------------\n\t\t\t\t// ------------------------------------------------------------------------------------\n\t\t\t\tfunction countDownTime(){\n\t\t\t\t\tconst currentTime = Date.now();\n\t\t\t\t\tconst diffBetweenCurrentTimeAndStartTime = currentTime - startTime;\n\t\t\t\t\tconst remainMSec = initialPlayingTimeMSec - diffBetweenCurrentTimeAndStartTime;\n\t\t\t\t\tconst remainAllSec = Math.ceil(remainMSec/1000);\n\t\t\t\t\tconst remainMin = Math.floor(remainAllSec / 60);\n\t\t\t\t\tconst remainSec = Math.ceil(remainAllSec % 60);\n\t\t\t\t\tlet  remainSecLabel = `残り${(`0${remainMin}` ).slice( -2 )}分${(`0${remainSec}` ).slice( -2 )}秒`;\n\n\t\t\t\t\t// 残り時間が0になった場合の処理を定義する。\n\t\t\t\t\tif (remainMSec <= 0){\n\t\t\t\t\t\tgameClose();\n\t\t\t\t\t}\n\t\t\t\t\t// 残りプレイ可能時間を更新する。\n\t\t\t\t\tremainPlayingTime.textContent = remainSecLabel;\n\n\t\t\t\t\t// プレイモード：タイムアタックの場合は、使用時間を最後に表示する。\n\t\t\t\t\tif (playMode == \"タイムアタック\"){\n\t\t\t\t\t\ttotalPlayingTimeMSec = diffBetweenCurrentTimeAndStartTime;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t\t// 以上、プレイ時間をカウントダウンする処理を定義する。-----------------------------------------\n\t\t\t\t// ------------------------------------------------------------------------------------\n\n\n\t\t\t\t// 以下、ゲーム終了時の処理を定義する。------------------------------------------------------\n\t\t\t\t// ------------------------------------------------------------------------------------\n\t\t\t\tfunction gameClose(){\n\t\t\t\t\t// ゲーム終了後にplayEndFlagを1に更新する。\n\t\t\t\t\tplayEndFlag = \"1\";\n\n\t\t\t\t\t// プレイ時間のカウントダウンを止める。\n\t\t\t\t\tclearInterval(timerId);\n\n\t\t\t\t\t// 最後に出題していた英単語を allQuestionWordsList に格納する。\n\t\t\t\t\t// ただし、プレイモード：タイムアタックでクリアしている場合、出題している単語はないため処理不要。\n\t\t\t\t\t// また、終了直前で正解した場合、次の問題生成前に本処理に入り、最後に正解した問題が２つ表示されるため、\"未解答\"であることも条件に加える。\n\t\t\t\t\tif ( !( playMode == \"タイムアタック\" && gameCompleteTimeAttackFlag == \"2\")\n\t\t\t\t\t\t&& allQuestionWords[allQuestionWords.length - 2] == \"未解答\") {\n\t\t\t\t\t\t// 出題したすべての英単語リストに追加する。\n\t\t\t\t\t\tallQuestionWordsList.push(allQuestionWords);\n\t\t\t\t\t};\n\n\t\t\t\t\t// 残り時間の表示を消す。\n\t\t\t\t\tremainPlayingTime.className = \"transparent\";\n\n\t\t\t\t\t// 現在のスコア（左上）の表示を消す。\n\t\t\t\t\t// プレイモード：練習・普通の場合のみ\n\t\t\t\t\t// if ( playMode == \"練習\" || playMode == \"普通\") {\n\t\t\t\t\t// \tdisplayScoreEntire.className = \"transparent\";\n\t\t\t\t\t// \tdisplayScore.className = \"transparent\";\n\t\t\t\t\t// \tdisplayP.className = \"transparent\";\n\t\t\t\t\t// };\n\n\t\t\t\t\t//正解数全体のクラスを非表示にする。\n\t\t\t\t\tNumCorrectMidGamePlay.className = \"transparent\";\n\t\t\t\t\t// 正解数の表示を消す。\n\t\t\t\t\tdisplayNumCorrectWord.className = \"transparent\";\n\t\t\t\t\tdisplayNumCorrectNum.className = \"transparent\";\n\t\t\t\t\t// 連続正解数の表示を消す。\n\t\t\t\t\tdisplayConsecutiveCorrectWord.className = \"transparent\";\n\t\t\t\t\tdisplayConsecutiveCorrectNum.className = \"transparent\";\n\t\t\t\t\t// 最高連続正解数の表示を消す。\n\t\t\t\t\tdisplayMaxConsecutiveCorrectWord.className = \"transparent\";\n\t\t\t\t\tdisplayMaxConsecutiveCorrectNum.className = \"transparent\";\n\t\t\t\t\t// 問題の英単語の表示を消す。\n\t\t\t\t\tdisplayWordEnglish.textContent =\"\";\n\t\t\t\t\t// 解答の日本語の表示を消す。\n\t\t\t\t\tdisplayWord.textContent =\"\";\n\t\t\t\t\t// 解答の日本語訳の漢字の表示を消す。\n\t\t\t\t\tdisplayWordKanji.textContent =\"\";\n\n\t\t\t\t\t// 出題や解答を表示していたdivを消す。\n\t\t\t\t\tconst btnWrapperPlay = document.getElementById(\"btnWrapperPlay\");\n\t\t\t\t\tbtnWrapperPlay.className = \"transparent\";\n\n\t\t\t\t\t// \"発音を聞く\"ボタンを消す。\n\t\t\t\t\tpronounceAgainButton.className = \"transparent\";\n\t\t\t\t\t// \"ヒントを見る\"ボタンを消す。\n\t\t\t\t\thintButton.className = \"transparent\";\n\t\t\t\t\t// \"答えを見る\"ボタンを消す。\n\t\t\t\t\tanswerButton.className = \"transparent\";\n\t\t\t\t\t// \"最初からやり直す\"ボタンを消す。\n\t\t\t\t\trestartButtonMidGame.className = \"transparent\";\n\t\t\t\t\t// \"コース選択画面に戻る\"ボタンを消す。\n\t\t\t\t\tcourseSettingBackButtonMidGame.className = \"transparent\";\n\n\t\t\t\t\t// 正解時に表示される○の画像を消す。\n\t\t\t\t\tcircleImg.className = \"transparent\";\n\n\t\t\t\t\t// ゲーム終了後に、\"お疲れ様でした\"を表示する。\n\t\t\t\t\tconst closePopupClear = document.getElementById(\"closePopupClear\");\n\t\t\t\t\t// ゲーム終了後に終了を知らせるポップアップを作成する。\n\t\t\t\t\t// ゲーム終了を知らせるポップアップを定義する。\n\t\t\t\t\tconst closePopup = document.getElementById(\"closePopup\");\n\t\t\t\t\tclosePopup.textContent =\"終了\";\n\t\t\t\t\tclosePopup.className = \"closePopup\";\n\t\t\t\t\t// ゲーム終了後に、問題数、合計正解数、最大連続正解数を表示する。\n\t\t\t\t\tconst closePopupTotalQuestionNum = document.getElementById(\"closePopupTotalQuestionNum\");\n\t\t\t\t\tclosePopupTotalQuestionNum.className = \"closePopupTotalQuestionNum\";\n\t\t\t\t\tconst closePopupFinalCorrectNum = document.getElementById(\"closePopupFinalCorrectNum\");\n\t\t\t\t\tclosePopupFinalCorrectNum.className = \"closePopupFinalCorrectNum\";\n\t\t\t\t\tconst closePopupFinalMaxConsecutiveCorrectNum = document.getElementById(\"closePopupFinalMaxConsecutiveCorrectNum\");\n\t\t\t\t\tclosePopupFinalMaxConsecutiveCorrectNum.className = \"closePopupFinalMaxConsecutiveCorrectNum\";\n\n\t\t\t\t\t// もう一度ボタンを定義する。\n\t\t\t\t\tconst restartBtn = document.getElementById(\"restartBtn\");\n\t\t\t\t\t// 戻るボタンを定義する。\n\t\t\t\t\tconst backBtn = document.getElementById(\"backBtn\");\n\n\t\t\t\t\t// 問題を振り返るボタンを定義する。\n\t\t\t\t\tconst checkQuestions = document.getElementById(\"checkQuestions\");\n\t\t\t\t\t// 出題問題リスト表示を定義する。\n\t\t\t\t\tconst allQuestionsListEntireScr = document.getElementById(\"allQuestionsListEntireScr\");\n\t\t\t\t\tconst allQuestionsList = document.getElementById(\"allQuestionsList\");\n\n\t\t\t\t\t// 出題した問題を表にする。\n\t\t\t\t\t// 出題した問題の数だけ処理を実施する。\n\t\t\t\t\tallQuestionWordsList.forEach((allQuestionWords) => {\n\t\t\t\t\t  const tr = document.createElement(\"tr\");\n\t\t\t\t\t  allQuestionsList.appendChild(tr);\n\t\t\t\t\t  // 問題ごとにobjArrayを変え、表に各項目を入れていく。\n\t\t\t\t\t  const objArray = Object.entries(allQuestionWords);\n\t\t\t\t\t  objArray.forEach((arr) => {\n\t\t\t\t\t\tconst td = document.createElement(\"td\");\n\t\t\t\t\t\ttd.textContent = arr[1];\n\t\t\t\t\t\tif (arr[1] == \"▷\") { // ▷を押下した時\n\t\t\t\t\t\t\ttd.onclick = function() {\n\t\t\t\t\t\t\t\tpronounce(objArray[3][1]); // その行の英単語を発音させる。\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\t\t\t\t\t\ttr.appendChild(td);\n\t\t\t\t\t  });\n\t\t\t\t\t});\n\n\t\t\t\t\t// 出題した出題問題リストポップアップを表示した後の「閉じる」ボタンを定義する。\n\t\t\t\t\tconst closeAllQuestionsList = document.getElementById(\"closeAllQuestionsList\");\n\n\t\t\t\t\t// 「問題を振り返る」ボタン押下で出題問題リストポップアップを開く。\n\t\t\t\t\tcheckQuestions.onclick = function() {\n\t\t\t\t\t\t// メーターを非表示にする。\n\t\t\t\t\t\tdocument.getElementById(\"meterImg\").className = \"transparent\";\n\t\t\t\t\t\t// 出題問題リストを表示させる。\n\t\t\t\t\t\tallQuestionsListEntireScr.className = \"allQuestionsListEntireScr\";\n\t\t\t\t\t\tcloseAllQuestionsList.className = \"closeAllQuestionsList\";\n\t\t\t\t\t};\n\t\t\t\t\t// 「閉じる」ボタン押下で出題問題リストポップアップを閉じる。\n\t\t\t\t\t\tcloseAllQuestionsList.onclick = function() {\n\t\t\t\t\t\t// メーターを表示にさせる。\n\t\t\t\t\t\tdocument.getElementById(\"meterImg\").className = \"meter\";\n\t\t\t\t\t\t// 出題問題リストを非表示にする。\n\t\t\t\t\t\tallQuestionsListEntireScr.className = \"transparent\";\n\t\t\t\t\t\tcloseAllQuestionsList.className = \"transparent\";\n\t\t\t\t\t};\n\n\n\t\t\t\t\t// 2秒後に得点を表示させる。また、もう一度ボタンと戻るボタンを表示させる。\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t// 得点の表示\n\t\t\t\t\t// プレイモード：練習・普通の場合は、スコアを表示する。\n\t\t\t\t\tif ( playMode == \"練習\" || playMode == \"普通\") {\n\t\t\t\t\t\tclosePopupClear.textContent = \"お疲れ様でした！\";\n\t\t\t\t\t\tclosePopupClear.className = \"closePopupClear\";\n\t\t\t\t\t\tclosePopup.textContent = `あなたの成績は以下の通りです!`;\n\t\t\t\t\t\t//closePopup.textContent = `あなたの得点は ${totalScore.toLocaleString()} 点です!`;\n\t\t\t\t\t\tclosePopup.className = \"endResultPopupNoClear\";\n\t\t\t\t\t} else { // プレイモード：タイムアタックの場合は、かかった時間を表示する。\n\t\t\t\t\t\t\t// ただし、すべての出題範囲に解答できた場合のみ。\n\t\t\t\t\t\tif ( gameCompleteTimeAttackFlag == \"2\") {\n\t\t\t\t\t\t\tconst remainAllSecTimeAttack = Math.ceil(totalPlayingTimeMSec/1000);\n\t\t\t\t\t\t\tconst remainMinTimeAttack = Math.floor(remainAllSecTimeAttack / 60);\n\t\t\t\t\t\t\tconst remainSecTimeAttack = Math.ceil(remainAllSecTimeAttack % 60);\n\t\t\t\t\t\t\tclosePopupClear.textContent = \"お疲れ様でした！ゲームクリアです！\";\n\t\t\t\t\t\t\tclosePopupClear.className = \"closePopupClear\";\n\t\t\t\t\t\t\tclosePopup.textContent = `あなたがかかった時間は ${(`0${remainMinTimeAttack}` ).slice( -2 )}分${(`0${remainSecTimeAttack}` ).slice( -2 )}秒 です!`;\n\t\t\t\t\t\t\tclosePopup.className = \"endResultPopupClear\";\n\t\t\t\t\t\t} else { // 時間切れの場合は、クリアできなかったと表示する。\n\t\t\t\t\t\t\tclosePopup.textContent = `残念ながらクリアできませんでした。`;\n\t\t\t\t\t\t\tclosePopup.className = \"endResultPopupNoClear\";\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t// 最終結果として、問題数、合計正解数、最高連続正解数を表示する。\n\t\t\t\t\tclosePopupTotalQuestionNum.textContent = `出題数 : ${eachQuestionOrder}`;\n\t\t\t\t\tclosePopupFinalCorrectNum.textContent = `${displayNumCorrectWord.textContent} : ${totalNumCorrectNum}`;\n\t\t\t\t\tclosePopupFinalMaxConsecutiveCorrectNum.textContent = `${displayMaxConsecutiveCorrectWord.textContent} : ${totalMaxConsecutiveNumCorrectNum}`;\n\n\t\t\t\t\t// もう一度ボタンの表示（transparentを消して表示させる）\n\t\t\t\t\trestartBtn.classList.remove('transparent');\n\t\t\t\t\t// 戻るボタンの表示（transparentを消して表示させる）\n\t\t\t\t\tbackBtn.classList.remove('transparent');\n\t\t\t\t\t// 問題を振り返るボタンの表示\n\t\t\t\t\tcheckQuestions.className = \"checkQuestions\";\n\t\t\t\t\tcheckQuestions.textContent =\"問題を振り返る\";\n\t\t\t\t\t},2000);\n\t\t\t\t};\n\t\t\t\t// 以上、ゲーム終了時の処理を定義する。------------------------------------------------------\n\t\t\t\t// ------------------------------------------------------------------------------------\n\n\n\t\t\t\t// 以下、スコアをアップし、現在のtotalScoreを表示する処理を定義する。---------------------------\n\t\t\t\t// ------------------------------------------------------------------------------------\n\t\t\t\t// function countUpScore(){\n\t\t\t\t// \tif (displayWord.textContent.length < refTextLengthForCountUpLevel1){\n\t\t\t\t// \t\taddPoint = addScoreLevel1;\n\t\t\t\t// \t} else {\n\t\t\t\t// \t\taddPoint = addScoreLevel2;\n\t\t\t\t// \t};\n\t\t\t\t// \t// 合計得点を定義する。\n\t\t\t\t// \ttotalScore = totalScore + addPoint;\n\t\t\t\t// \tdisplayScore.setAttribute('data-num', totalScore);\n\n\t\t\t\t// \tvar countElm = $('.displayScore'),\n\t\t\t\t// \tcountSpeed = 10;\n\n\t\t\t\t// \tcountElm.each(function(){\n\t\t\t\t// \t\tvar self = $(this),\n\t\t\t\t// \t\t// 合計得点を定義する。\n\t\t\t\t// \t\tcountMax = self.attr('data-num'),\n\t\t\t\t// \t\tthisCount = self.text(),\n\t\t\t\t// \t\tcountTimer;\n\t\t\t\t// \t\tcountUpAnime();\n\n\t\t\t\t// \t\t// 数値をカウントアップするアニメーションを定義する。\n\t\t\t\t// \t\tfunction countUpAnime(){\n\t\t\t\t// \t\t\tcountTimer = setInterval(function(){\n\t\t\t\t// \t\t\t\tvar countNext = thisCount++;\n\t\t\t\t// \t\t\t\tself.text(countNext);\n\t\t\t\t// \t\t\t\tif(countNext == countMax){\n\t\t\t\t// \t\t\t\t\tclearInterval(countTimer);\n\t\t\t\t// \t\t\t\t}\n\t\t\t\t// \t\t\t},countSpeed);\n\t\t\t\t// \t\t};\n\t\t\t\t// \t});\n\t\t\t\t// };\n\t\t\t\t// 以上、スコアをアップし、現在のtotalScoreを表示する処理を定義する。---------------------------\n\t\t\t\t// ------------------------------------------------------------------------------------\n\n\n\t\t\t\t// 以下、正解数をカウントアップする処理を定義する。--------------------------------------------\n\t\t\t\t// ------------------------------------------------------------------------------------\n\t\t\t\tfunction countUpCorrectNum(){\n\t\t\t\t\t// 合計正解数のカウントアップ\n\t\t\t\t\ttotalNumCorrectNum = totalNumCorrectNum + 1;\n\t\t\t\t\tdisplayNumCorrectNum.textContent = totalNumCorrectNum;\n\n\t\t\t\t\t// 連続正解数のカウントアップ\n\t\t\t\t\ttotalConsecutiveNumCorrectNum = totalConsecutiveNumCorrectNum + 1;\n\t\t\t\t\tdisplayConsecutiveCorrectNum.textContent = totalConsecutiveNumCorrectNum;\n\n\t\t\t\t\t// 最高連続正解数のカウントアップ\n\t\t\t\t\tif (totalMaxConsecutiveNumCorrectNum < totalConsecutiveNumCorrectNum) {\n\t\t\t\t\t\ttotalMaxConsecutiveNumCorrectNum = totalMaxConsecutiveNumCorrectNum + 1;\n\t\t\t\t\t\tdisplayMaxConsecutiveCorrectNum.textContent = totalMaxConsecutiveNumCorrectNum;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t\t// 以上、正解数をカウントアップする処理を定義する。--------------------------------------------\n\t\t\t\t// ------------------------------------------------------------------------------------\n\n\n\t\t\t\t// 以下、タイプした文字が表示文字と一致する場合の処理を定義する。--------------------------------\n\t\t\t\t// ------------------------------------------------------------------------------------\n\t\t\t\tfunction keyDownCharCountUp(keyDownChar){\n\t\t\t\tif(playEndFlag === \"0\"){\n\t\t\t\t// 文字によって、文字列の最後にあるかどうかで入力形式が変わるため、\"っ\"\"ん\"は個別に処理を定義する。\n\t\t\t\t// 先頭文字が小さい\"っ\"の場合\n\t\t\t\t// uはxtsuなどで\"っ\"を打ち込めるため、条件分岐要。\n\t\t\t\tif (charArrayInDisplayWordJap[0].textContent === \"っ\") {\n\t\t\t\t\tif (keyDownChar.key !== \"a\"\n\t\t\t\t\t&& keyDownChar.key !== \"i\"\n\t\t\t\t\t&& keyDownChar.key !== \"e\"\n\t\t\t\t\t&& keyDownChar.key !== \"o\"\n\t\t\t\t\t&& keyDownChar.key !== \"n\") {\n\t\t\t\t\t\t// \"っ\"が最後の文字ではない場合、同じキーを２回連続でタイプしてOKとする。\n\t\t\t\t\t\tif (charArrayInDisplayWordJap[1] != null){\n\t\t\t\t\t\t\t// 入力対象文字に対して、入力処理が開始していない場合\n\t\t\t\t\t\t\tif (shiftAlreadyStartedCountAll === 0 && keyDownChar.key !== \"u\") {\n\t\t\t\t\t\t\t\tkeyTempForSmallTsuPreWithNext = keyDownChar.key;\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 1;\n\t\t\t\t\t\t\t\tcorrectTyping();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// 同じアルファベットを入力した場合、\"っ\"を入力完了にし、再度keyDownCharCountUpを実施する。\n\t\t\t\t\t\t\t\tif(keyDownChar.key === keyTempForSmallTsuPreWithNext && keyDownChar.key !== \"u\"){\n\t\t\t\t\t\t\t\t\tkeyTempForSmallTsuPreWithNext = \"\";\n\t\t\t\t\t\t\t\t\tkeyTempForSmallTsuPreFirst = \"\";\n\t\t\t\t\t\t\t\t\tkeyTempForSmallTsuPreSecond = \"\";\n\t\t\t\t\t\t\t\t\tkeyTempForSmallTsuPreThird = \"\";\n\t\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t\t\t\tcorrectTyping();\n\t\t\t\t\t\t\t\t\tkeyDownCharCountUp(keyDownChar);\n\t\t\t\t\t\t\t\t// 異なる場合は前回入力アルファベットに入力したアルファベットを上書き\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (keyDownChar.key === \"t\" && (keyTempForSmallTsuPreFirst === \"l\" || keyTempForSmallTsuPreFirst === \"x\")){\n\t\t\t\t\t\t\t\t\t} else if ((keyDownChar.key === \"u\" || keyDownChar.key === \"s\") && keyTempForSmallTsuPreSecond === \"t\"\n\t\t\t\t\t\t\t\t\t\t\t&& (keyTempForSmallTsuPreFirst === \"l\" || keyTempForSmallTsuPreFirst === \"x\")){\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\ttypeMissAudio();\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\tif (keyDownChar.key !== \"u\"){\n\t\t\t\t\t\t\t\t\tkeyTempForSmallTsuPreWithNext = keyDownChar.key;\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// 先頭文字が小さい\"っ\"の場合(上記の2連続同一キータイプにより\"っ\"の入力処理が完了した場合に、下記処理が開始するのを防ぐために条件分岐を設定)\n\t\t\t\t\t\tif (charArrayInDisplayWordJap[0].textContent === \"っ\") {\n\t\t\t\t\t\t// \"っ\"の単独入力を可能にする。\n\t\t\t\t\t\t\tif(keyDownChar.key === \"l\" || keyDownChar.key === \"x\"){\n\t\t\t\t\t\t\t\tkeyTempForSmallTsuPreFirst = keyDownChar.key;\n\t\t\t\t\t\t\t\tif (keyTempForSmallTsuPreWithNext !== \"l\"\n\t\t\t\t\t\t\t\t&& keyTempForSmallTsuPreWithNext !== \"x\"){\n\t\t\t\t\t\t\t\tcorrectTyping();\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif ((keyTempForSmallTsuPreFirst === \"l\" || keyTempForSmallTsuPreFirst === \"x\")\n\t\t\t\t\t\t\t\t&& keyDownChar.key === \"t\") {\n\t\t\t\t\t\t\t\tkeyTempForSmallTsuPreSecond = keyDownChar.key;\n\t\t\t\t\t\t\t\tcorrectTyping();\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif ((keyTempForSmallTsuPreFirst === \"l\" || keyTempForSmallTsuPreFirst === \"x\")\n\t\t\t\t\t\t\t&& keyTempForSmallTsuPreSecond === \"t\" && keyDownChar.key === \"s\") {\n\t\t\t\t\t\t\t\tkeyTempForSmallTsuPreThird = keyDownChar.key;\n\t\t\t\t\t\t\t\tcorrectTyping();\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif ((keyTempForSmallTsuPreFirst === \"l\" || keyTempForSmallTsuPreFirst === \"x\")\n\t\t\t\t\t\t\t&& keyTempForSmallTsuPreSecond === \"t\" && keyDownChar.key === \"u\") {\n\t\t\t\t\t\t\t\tkeyTempForSmallTsuPreWithNext = \"\";\n\t\t\t\t\t\t\t\tkeyTempForSmallTsuPreFirst = \"\";\n\t\t\t\t\t\t\t\tkeyTempForSmallTsuPreSecond = \"\";\n\t\t\t\t\t\t\t\tkeyTempForSmallTsuPreThird = \"\";\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t\t\tcorrectTyping();\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// \"a\"\"i\"\"e\"\"o\"\"n\"が入力された時点でNGとする。\n\t\t\t\t\t\ttypeMissAudio();\n\t\t\t\t\t};\n\n\t\t\t\t// 先頭文字が\"ん\"の場合、かつ次の文字あり、その文字が母音でない場合は \"n\"+\"n以外の子音\"でもOKとする。\n\t\t\t\t// それ以外の場合は、マッピング表の通り\"nn\"\"xn\"でしか入力できない。\n\t\t\t\t} else if (charArrayInDisplayWordJap[0].textContent === \"ん\"){\n\t\t\t\t\t\t\tif (shiftAlreadyStartedCountAll === 0){\n\t\t\t\t\t\t\t\tif (keyDownChar.key === \"n\" || keyDownChar.key === \"x\"){\n\t\t\t\t\t\t\t\t\tkeyTempForNnPre = keyDownChar.key;\n\t\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 1;\n\t\t\t\t\t\t\t\t\tcorrectTyping();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttypeMissAudio();\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (keyTempForNnPre === \"n\"){\n\t\t\t\t\t\t\t\t\tif(charArrayInDisplayWordJap[1] != null){\n\t\t\t\t\t\t\t\t\t\tif (charArrayInDisplayWordJap[1].textContent !== \"あ\"\n\t\t\t\t\t\t\t\t\t\t&& charArrayInDisplayWordJap[1].textContent !== \"い\"\n\t\t\t\t\t\t\t\t\t\t&& charArrayInDisplayWordJap[1].textContent !== \"う\"\n\t\t\t\t\t\t\t\t\t\t&& charArrayInDisplayWordJap[1].textContent !== \"え\"\n\t\t\t\t\t\t\t\t\t\t&& charArrayInDisplayWordJap[1].textContent !== \"お\"){\n\t\t\t\t\t\t\t\t\t\t\tif(keyDownChar.key !== \"a\"\n\t\t\t\t\t\t\t\t\t\t\t&& keyDownChar.key !== \"i\"\n\t\t\t\t\t\t\t\t\t\t\t&& keyDownChar.key !== \"u\"\n\t\t\t\t\t\t\t\t\t\t\t&& keyDownChar.key !== \"e\"\n\t\t\t\t\t\t\t\t\t\t\t&& keyDownChar.key !== \"o\"\n\t\t\t\t\t\t\t\t\t\t\t&& keyDownChar.key !== \"y\"){\n\t\t\t\t\t\t\t\t\t\t\t\tkeyTempForNnPre = \"\";\n\t\t\t\t\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t\t\t\t\t\t\tcorrectTyping();\n\t\t\t\t\t\t\t\t\t\t\t\tif(keyDownChar.key !== \"n\"){\n\t\t\t\t\t\t\t\t\t\t\t\t\tkeyDownCharCountUp(keyDownChar);\n\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\ttypeMissAudio();\n\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tif(keyDownChar.key !== \"a\"\n\t\t\t\t\t\t\t\t\t\t\t&& keyDownChar.key !== \"i\"\n\t\t\t\t\t\t\t\t\t\t\t&& keyDownChar.key !== \"u\"\n\t\t\t\t\t\t\t\t\t\t\t&& keyDownChar.key !== \"e\"\n\t\t\t\t\t\t\t\t\t\t\t&& keyDownChar.key !== \"o\"\n\t\t\t\t\t\t\t\t\t\t\t&& keyDownChar.key !== \"y\"){\n\t\t\t\t\t\t\t\t\t\t\t\tkeyTempForNnPre = \"\";\n\t\t\t\t\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t\t\t\t\t\t\tcorrectTyping();\n\t\t\t\t\t\t\t\t\t\t\t\tif(keyDownChar.key !== \"n\"){\n\t\t\t\t\t\t\t\t\t\t\t\t\tkeyDownCharCountUp(keyDownChar);\n\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\ttypeMissAudio();\n\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (keyDownChar.key === \"n\"){\n\t\t\t\t\t\t\t\t\t\t\tkeyTempForNnPre = \"\";\n\t\t\t\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t\t\t\t\t\tcorrectTyping();\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\ttypeMissAudio();\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t} else if (keyTempForNnPre === \"x\"){\n\t\t\t\t\t\t\t\t\tif(keyDownChar.key === \"n\"){\n\t\t\t\t\t\t\t\t\t\tkeyTempForNnPre = \"\";\n\t\t\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t\t\t\t\tcorrectTyping();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\ttypeMissAudio();\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t};\n\t\t\t\t\t// \"っ\"\"ん\"以外の文字の場合\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 入力対象文字をアルファベットに分解する。\n\t\t\t\t\t\t\t// 入力対象文字に対して、入力処理が開始していない場合\n\t\t\t\t\t\t\tif (shiftAlreadyStartedCountAll === 0 ){\n\t\t\t\t\t\t\t// 2文字目が存在する場合(最後の文字でない場合)\n\t\t\t\t\t\t\tif(charArrayInDisplayWordJap[1] != null){\n\t\t\t\t\t\t\t\t// 2文字を一緒に入力するパターンに対応する処理を定義する。\n\t\t\t\t\t\t\t\twordLetterWithSmallLetter = charArrayInDisplayWordJap[0].textContent + charArrayInDisplayWordJap[1].textContent;\n\t\t\t\t\t\t\t// 文字をローマ字に変換し、アルファベットごとに分ける。\n\t\t\t\t\t\t\t// 2文字に対して、ローマ字変換パターン１をsplitする。\n\t\t\t\t\t\t\tif (romaMappingTableFirst[wordLetterWithSmallLetter] != null){\n\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaFirst = romaMappingTableFirst[wordLetterWithSmallLetter].split(\"\").map(function(value){\n\t\t\t\t\t\t\t\tlet spanValue = document.createElement(\"span\");\n\t\t\t\t\t\t\t\tspanValue.textContent = value;\n\t\t\t\t\t\t\t\treturn spanValue;\n\t\t\t\t\t\t\t})};\n\t\t\t\t\t\t\t// 2文字に対してローマ字変換パターン２が存在する場合はsplitする。\n\t\t\t\t\t\t\tif (romaMappingTableSecond[wordLetterWithSmallLetter] != null){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaSecond = romaMappingTableSecond[wordLetterWithSmallLetter].split(\"\").map(function(value){\n\t\t\t\t\t\t\t\tlet spanValue = document.createElement(\"span\");\n\t\t\t\t\t\t\t\tspanValue.textContent = value;\n\t\t\t\t\t\t\t\treturn spanValue;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t// 2文字に対してローマ字変換パターン３が存在する場合はsplitする。\n\t\t\t\t\t\t\tif (romaMappingTableThird[wordLetterWithSmallLetter] != null){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaThird = romaMappingTableThird[wordLetterWithSmallLetter].split(\"\").map(function(value){\n\t\t\t\t\t\t\t\tlet spanValue = document.createElement(\"span\");\n\t\t\t\t\t\t\t\tspanValue.textContent = value;\n\t\t\t\t\t\t\t\treturn spanValue;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// 1文字のみを先に入力するパターンに対応する処理を定義する。\n\t\t\t\t\t\t\twordLetterSole = charArrayInDisplayWordJap[0].textContent;\n\t\t\t\t\t\t\t// 1文字目のみ対して、ローマ字変換パターン１をsplitする。\n\t\t\t\t\t\t\t// 母音の場合はsplit不可のため処理を分ける。\n\t\t\t\t\t\t\tif (wordLetterSole !== \"あ\"\n\t\t\t\t\t\t\t\t&& wordLetterSole !== \"い\"\n\t\t\t\t\t\t\t\t&& wordLetterSole !== \"う\"\n\t\t\t\t\t\t\t\t&& wordLetterSole !== \"え\"\n\t\t\t\t\t\t\t\t&& wordLetterSole !== \"お\"){\n\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaSole = romaMappingTableFirst[wordLetterSole].split(\"\").map(function(value){\n\t\t\t\t\t\t\t\tlet spanValue = document.createElement(\"span\");\n\t\t\t\t\t\t\t\tspanValue.textContent = value;\n\t\t\t\t\t\t\t\treturn spanValue;\n\t\t\t\t\t\t\t})} else {\n\t\t\t\t\t\t\t\tlet spanValue = document.createElement(\"span\");\n\t\t\t\t\t\t\t\tspanValue.textContent = romaMappingTableFirst[wordLetterSole];\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaSole = [spanValue];\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// 1文字目のみ対してローマ字変換パターン２が存在する場合はsplitする。\n\t\t\t\t\t\t\tif (romaMappingTableSecond[wordLetterSole] != null){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaSoleSecond = romaMappingTableSecond[wordLetterSole].split(\"\").map(function(value){\n\t\t\t\t\t\t\t\tlet spanValue = document.createElement(\"span\");\n\t\t\t\t\t\t\t\tspanValue.textContent = value;\n\t\t\t\t\t\t\t\treturn spanValue;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t// 1文字目のみ対してローマ字変換パターン３が存在する場合はsplitする。\n\t\t\t\t\t\t\tif (romaMappingTableThird[wordLetterSole] != null){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaSoleThird = romaMappingTableThird[wordLetterSole].split(\"\").map(function(value){\n\t\t\t\t\t\t\t\tlet spanValue = document.createElement(\"span\");\n\t\t\t\t\t\t\t\tspanValue.textContent = value;\n\t\t\t\t\t\t\t\treturn spanValue;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t// 文字入力によるアルファベットに対する処理を開始する。\n\t\t\t\t\t\t// 文字の入力開始前である場合\n\t\t\t\t\t\tif (shiftAlreadyStartedCountAll === 0){\n\t\t\t\t\t\t\t// 2文字目が存在する場合(最後の文字でない場合)\n\t\t\t\t\t\t\tif(charArrayInDisplayWordJap[1] != null){\n\t\t\t\t\t\t\t// 2文字に対してタイプキーがローマ字変換パターン１に該当する場合\n\t\t\t\t\t\t\tif (romaMappingTableFirst[wordLetterWithSmallLetter] != null){\n\t\t\t\t\t\t\tif(keyDownChar.key === charArrayInDisplayWordAlphaFirst[0].textContent) {\n\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaFirst.shift();\n\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 1;\n\t\t\t\t\t\t\tshiftAlreadyStartedCountFirst = 1;\n\t\t\t\t\t\t\tif(charArrayInDisplayWordAlphaFirst.length === 0){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[1].className = \"add_red\";\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t\t}}};\n\t\t\t\t\t\t\t// 2文字に対してタイプキーがローマ字変換パターン２に該当する場合\n\t\t\t\t\t\t\tif (romaMappingTableSecond[wordLetterWithSmallLetter] != null){\n\t\t\t\t\t\t\t\tif(keyDownChar.key === charArrayInDisplayWordAlphaSecond[0].textContent){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaSecond.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 1;\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountSecond = 1;\n\t\t\t\t\t\t\t\tif(charArrayInDisplayWordAlphaSecond.length === 0){\n\t\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[1].className = \"add_red\";\n\t\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t\t}}};\n\t\t\t\t\t\t\t// 2文字に対してタイプキーがローマ字変換パターン３に該当する場合\n\t\t\t\t\t\t\tif (romaMappingTableThird[wordLetterWithSmallLetter] != null){\n\t\t\t\t\t\t\t\tif(keyDownChar.key === charArrayInDisplayWordAlphaThird[0].textContent){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaThird.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 1;\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountThird = 1;\n\t\t\t\t\t\t\t\tif(charArrayInDisplayWordAlphaThird.length === 0){\n\t\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[1].className = \"add_red\";\n\t\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t\t}}}};\n\n\t\t\t\t\t\t\t// 1文字目のみに対してタイプキーがローマ字変換パターン１に該当する場合\n\t\t\t\t\t\t\tif(keyDownChar.key === charArrayInDisplayWordAlphaSole[0].textContent) {\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaSole.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 1;\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountSoleFirst = 1;\n\t\t\t\t\t\t\tif(charArrayInDisplayWordAlphaSole.length === 0){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t\t}};\n\t\t\t\t\t\t\t// 1文字目のみに対してタイプキーがローマ字変換パターン２に該当する場合\n\t\t\t\t\t\t\tif (romaMappingTableSecond[wordLetterSole] != null){\n\t\t\t\t\t\t\t\tif(keyDownChar.key === charArrayInDisplayWordAlphaSoleSecond[0].textContent\n\t\t\t\t\t\t\t\t&& charArrayInDisplayWordAlphaSole.length !== 0){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaSoleSecond.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 1;\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountSoleSecond = 1;\n\t\t\t\t\t\t\t\tif(charArrayInDisplayWordAlphaSoleSecond.length === 0){\n\t\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t\t\t}}};\n\t\t\t\t\t\t\t// 1文字目のみに対してタイプキーがローマ字変換パターン３に該当する場合\n\t\t\t\t\t\t\tif (romaMappingTableThird[wordLetterSole] != null){\n\t\t\t\t\t\t\t\tif(keyDownChar.key === charArrayInDisplayWordAlphaSoleThird[0].textContent\n\t\t\t\t\t\t\t\t&& charArrayInDisplayWordAlphaSole.length !== 0\n\t\t\t\t\t\t\t\t&& charArrayInDisplayWordAlphaSoleSecond.length !== 0){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaSoleThird.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 1;\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountSoleThird = 1;\n\t\t\t\t\t\t\t\tif(charArrayInDisplayWordAlphaSoleThird.length === 0){\n\t\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t\t\t}}};\n\n\t\t\t\t\t\t\t// タイプキーがローマ字変換パターン１〜３のいずれかに該当する場合\n\t\t\t\t\t\t\tif (shiftAlreadyStartedCountFirst === 1\n\t\t\t\t\t\t\t\t|| shiftAlreadyStartedCountSecond === 1\n\t\t\t\t\t\t\t\t|| shiftAlreadyStartedCountThird === 1\n\t\t\t\t\t\t\t\t|| shiftAlreadyStartedCountSoleFirst === 1\n\t\t\t\t\t\t\t\t|| shiftAlreadyStartedCountSoleSecond === 1\n\t\t\t\t\t\t\t\t|| shiftAlreadyStartedCountSoleThird === 1) {\n\t\t\t\t\t\t\tcorrectTyping();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttypeMissAudio();\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// 文字入力が完了している場合、カウントを0にする。\n\t\t\t\t\t\t\tif (shiftAlreadyStartedCountAll === 0){\n\t\t\t\t\t\t\tshiftAlreadyStartedCountFirst = 0;\n\t\t\t\t\t\t\tshiftAlreadyStartedCountSecond = 0;\n\t\t\t\t\t\t\tshiftAlreadyStartedCountThird = 0;\n\t\t\t\t\t\t\tshiftAlreadyStartedCountSoleFirst = 0;\n\t\t\t\t\t\t\tshiftAlreadyStartedCountSoleSecond = 0;\n\t\t\t\t\t\t\tshiftAlreadyStartedCountSoleThird = 0;\n\t\t\t\t\t\t\t};\n\n\n\t\t\t\t// すでに1つのアルファベットを入力済みの場合\n\t\t\t\t} else if (shiftAlreadyStartedCountAll === 1){\n\t\t\t\t\t// 2文字目が存在する場合(最後の文字でない場合)\n\t\t\t\t\tif(charArrayInDisplayWordJap[1] != null){\n\t\t\t\t\t\t// 2文字に対してタイプキーがローマ字変換パターン１に該当する場合\n\t\t\t\t\t\tif(shiftAlreadyStartedCountFirst === 1){\n\t\t\t\t\t\tif(keyDownChar.key === charArrayInDisplayWordAlphaFirst[0].textContent) {\n\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaFirst.shift();\n\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 2;\n\t\t\t\t\t\t\tshiftAlreadyStartedCountFirst = 2;\n\t\t\t\t\t\t\tif(charArrayInDisplayWordAlphaFirst.length === 0){\n\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\tcharArrayInDisplayWordJap[1].className = \"add_red\";\n\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t}}};\n\t\t\t\t\t\t// 2文字に対してタイプキーがローマ字変換パターン２に該当する場合\n\t\t\t\t\t\tif (romaMappingTableSecond[wordLetterWithSmallLetter] != null){\n\t\t\t\t\t\t\tif(shiftAlreadyStartedCountSecond === 1){\n\t\t\t\t\t\t\tif(keyDownChar.key === charArrayInDisplayWordAlphaSecond[0].textContent){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaSecond.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 2;\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountSecond = 2;\n\t\t\t\t\t\t\t\tif(charArrayInDisplayWordAlphaSecond.length === 0){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[1].className = \"add_red\";\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t}}}};\n\t\t\t\t\t\t// 2文字に対してタイプキーがローマ字変換パターン３に該当する場合\n\t\t\t\t\t\tif (romaMappingTableThird[wordLetterWithSmallLetter] != null){\n\t\t\t\t\t\t\tif(shiftAlreadyStartedCountThird === 1){\n\t\t\t\t\t\t\tif(keyDownChar.key === charArrayInDisplayWordAlphaThird[0].textContent){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaThird.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 2;\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountThird = 2;\n\t\t\t\t\t\t\t\tif(charArrayInDisplayWordAlphaThird.length === 0){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[1].className = \"add_red\";\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t}}}}};\n\n\t\t\t\t\t\t// 1文字目のみに対してタイプキーがローマ字変換パターン１に該当する場合\n\t\t\t\t\t\tif(shiftAlreadyStartedCountSoleFirst === 1){\n\t\t\t\t\t\tif(keyDownChar.key === charArrayInDisplayWordAlphaSole[0].textContent) {\n\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaSole.shift();\n\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 2;\n\t\t\t\t\t\t\tshiftAlreadyStartedCountSoleFirst = 2;\n\t\t\t\t\t\t\tif(charArrayInDisplayWordAlphaSole.length === 0){\n\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t\t}}};\n\t\t\t\t\t\t// 1文字目のみに対してタイプキーがローマ字変換パターン２に該当する場合\n\t\t\t\t\t\tif (romaMappingTableSecond[wordLetterSole] != null){\n\t\t\t\t\t\t\tif(shiftAlreadyStartedCountSoleSecond === 1){\n\t\t\t\t\t\t\tif(keyDownChar.key === charArrayInDisplayWordAlphaSoleSecond[0].textContent){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaSoleSecond.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 2;\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountSoleSecond = 2;\n\t\t\t\t\t\t\t\tif(charArrayInDisplayWordAlphaSoleSecond.length === 0){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t\t}}}};\n\t\t\t\t\t\t// 1文字目のみに対してタイプキーがローマ字変換パターン３に該当する場合\n\t\t\t\t\t\tif (romaMappingTableThird[wordLetterSole] != null){\n\t\t\t\t\t\t\tif(shiftAlreadyStartedCountSoleThird === 1){\n\t\t\t\t\t\t\tif(keyDownChar.key === charArrayInDisplayWordAlphaSoleThird[0].textContent){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaSoleThird.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 2;\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountSoleThird = 2;\n\t\t\t\t\t\t\t\tif(charArrayInDisplayWordAlphaSoleThird.length === 0){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t\t\t}}}};\n\n\n\n\t\t\t\t\t\t// タイプキーがローマ字変換パターン１〜３のいずれかに該当する場合\n\t\t\t\t\t\tif (shiftAlreadyStartedCountFirst === 2\n\t\t\t\t\t\t\t|| shiftAlreadyStartedCountSecond === 2\n\t\t\t\t\t\t\t|| shiftAlreadyStartedCountThird === 2\n\t\t\t\t\t\t\t|| shiftAlreadyStartedCountSoleFirst === 2\n\t\t\t\t\t\t\t|| shiftAlreadyStartedCountSoleSecond === 2\n\t\t\t\t\t\t\t|| shiftAlreadyStartedCountSoleThird === 2) {\n\t\t\t\t\t\t\tcorrectTyping();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttypeMissAudio();\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// 文字入力が完了している場合、カウントを0にする。\n\t\t\t\t\t\t\tif (shiftAlreadyStartedCountAll === 0){\n\t\t\t\t\t\t\tshiftAlreadyStartedCountFirst = 0;\n\t\t\t\t\t\t\tshiftAlreadyStartedCountSecond = 0;\n\t\t\t\t\t\t\tshiftAlreadyStartedCountThird = 0;\n\t\t\t\t\t\t\tshiftAlreadyStartedCountSoleFirst = 0;\n\t\t\t\t\t\t\tshiftAlreadyStartedCountSoleSecond = 0;\n\t\t\t\t\t\t\tshiftAlreadyStartedCountSoleThird = 0;\n\t\t\t\t\t\t\t};\n\n\n\t\t\t\t\t// すでに2つのアルファベットを入力済みの場合\n\t\t\t\t\t} else if (shiftAlreadyStartedCountAll === 2){\n\t\t\t\t\t// 2文字目が存在する場合(最後の文字でない場合)\n\t\t\t\t\tif(charArrayInDisplayWordJap[1] != null){\n\t\t\t\t\t\t// 2文字に対してタイプキーがローマ字変換パターン１に該当する場合\n\t\t\t\t\t\tif(shiftAlreadyStartedCountFirst === 2){\n\t\t\t\t\t\tif(keyDownChar.key === charArrayInDisplayWordAlphaFirst[0].textContent) {\n\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaFirst.shift();\n\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 3;\n\t\t\t\t\t\t\tshiftAlreadyStartedCountFirst = 3;\n\t\t\t\t\t\t\tif(charArrayInDisplayWordAlphaFirst.length === 0){\n\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\tcharArrayInDisplayWordJap[1].className = \"add_red\";\n\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t}}};\n\t\t\t\t\t\t// 2文字に対してタイプキーがローマ字変換パターン２に該当する場合\n\t\t\t\t\t\tif (romaMappingTableSecond[wordLetterWithSmallLetter] != null){\n\t\t\t\t\t\t\tif(shiftAlreadyStartedCountSecond === 2){\n\t\t\t\t\t\t\tif(keyDownChar.key === charArrayInDisplayWordAlphaSecond[0].textContent){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaSecond.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 3;\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountSecond = 3;\n\t\t\t\t\t\t\t\tif(charArrayInDisplayWordAlphaSecond.length === 0){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[1].className = \"add_red\";\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t}}}};\n\t\t\t\t\t\t// 2文字に対してタイプキーがローマ字変換パターン３に該当する場合\n\t\t\t\t\t\tif (romaMappingTableThird[wordLetterWithSmallLetter] != null){\n\t\t\t\t\t\t\tif(shiftAlreadyStartedCountThird === 2){\n\t\t\t\t\t\t\tif(keyDownChar.key === charArrayInDisplayWordAlphaThird[0].textContent){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaThird.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 3;\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountThird = 3;\n\t\t\t\t\t\t\t\tif(charArrayInDisplayWordAlphaThird.length === 0){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[1].className = \"add_red\";\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t}}}}};\n\n\t\t\t\t\t\t// 1文字目のみに対してタイプキーがローマ字変換パターン１に該当する場合\n\t\t\t\t\t\tif(shiftAlreadyStartedCountSoleFirst === 2){\n\t\t\t\t\t\tif(keyDownChar.key === charArrayInDisplayWordAlphaSole[0].textContent) {\n\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaSole.shift();\n\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 3;\n\t\t\t\t\t\t\tshiftAlreadyStartedCountSoleFirst = 3;\n\t\t\t\t\t\t\tif(charArrayInDisplayWordAlphaSole.length === 0){\n\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t\t}}};\n\t\t\t\t\t\t// 1文字目のみに対してタイプキーがローマ字変換パターン２に該当する場合\n\t\t\t\t\t\tif (romaMappingTableSecond[wordLetterSole] != null){\n\t\t\t\t\t\t\tif(shiftAlreadyStartedCountSoleSecond === 2){\n\t\t\t\t\t\t\tif(keyDownChar.key === charArrayInDisplayWordAlphaSoleSecond[0].textContent){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaSoleSecond.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 3;\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountSoleSecond = 3;\n\t\t\t\t\t\t\t\tif(charArrayInDisplayWordAlphaSoleSecond.length === 0){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t\t}}}};\n\t\t\t\t\t\t// 1文字目のみに対してタイプキーがローマ字変換パターン３に該当する場合\n\t\t\t\t\t\tif (romaMappingTableThird[wordLetterSole] != null){\n\t\t\t\t\t\t\tif(shiftAlreadyStartedCountSoleThird === 2){\n\t\t\t\t\t\t\tif(keyDownChar.key === charArrayInDisplayWordAlphaSoleThird[0].textContent){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordAlphaSoleThird.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 3;\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountSoleThird = 3;\n\t\t\t\t\t\t\t\tif(charArrayInDisplayWordAlphaSoleThird.length === 0){\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap[0].className = \"add_red\";\n\t\t\t\t\t\t\t\tcharArrayInDisplayWordJap.shift();\n\t\t\t\t\t\t\t\tshiftAlreadyStartedCountAll = 0;\n\t\t\t\t\t\t\t\t}}}};\n\n\t\t\t\t\t\t// タイプキーがローマ字変換パターン１〜３のいずれかに該当する場合\n\t\t\t\t\t\tif (shiftAlreadyStartedCountFirst === 3\n\t\t\t\t\t\t|| shiftAlreadyStartedCountSecond === 3\n\t\t\t\t\t\t|| shiftAlreadyStartedCountThird === 3\n\t\t\t\t\t\t|| shiftAlreadyStartedCountSoleFirst === 3\n\t\t\t\t\t\t|| shiftAlreadyStartedCountSoleSecond === 3\n\t\t\t\t\t\t|| shiftAlreadyStartedCountSoleThird === 3) {\n\t\t\t\t\t\tcorrectTyping();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\ttypeMissAudio();\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// 文字入力が完了している場合、カウントを0にする。\n\t\t\t\t\t\tif (shiftAlreadyStartedCountAll === 0){\n\t\t\t\t\t\t\tshiftAlreadyStartedCountFirst = 0;\n\t\t\t\t\t\t\tshiftAlreadyStartedCountSecond = 0;\n\t\t\t\t\t\t\tshiftAlreadyStartedCountThird = 0;\n\t\t\t\t\t\t\tshiftAlreadyStartedCountSoleFirst = 0;\n\t\t\t\t\t\t\tshiftAlreadyStartedCountSoleSecond = 0;\n\t\t\t\t\t\t\tshiftAlreadyStartedCountSoleThird = 0;\n\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t// 以上、タイプした文字が表示文字と一致する場合の処理を定義する。--------------------------------\n\t\t\t\t// ------------------------------------------------------------------------------------\n\n\n\t\t\t\t// 以下、タイプした文字が解答文字と一致する場合の共通処理を定義する。-----------------------------\n\t\t\t\t// ------------------------------------------------------------------------------------\n\t\t\t\tfunction correctTyping(){\n\t\t\t\t\t// タイプ音を定義する。\n\t\t\t\t\t// タイプ音ありの場合のみ\n\t\t\t\t\tif (typeAudioMode == \"タイプ音あり\") {\n\t\t\t\t\t\tlet typeAudioMode = new Audio('/assets/typeAudio.mp3');\n\t\t\t\t\t\t// タイプ音を発生させる。\n\t\t\t\t\t\ttypeAudioMode.volume = 0.3;\n\t\t\t\t\t\ttypeAudioMode.play();\n\t\t\t\t\t};\n\t\t\t\t\t// メーターを更新する。\n\t\t\t\t\tbonusCountMeter = bonusCountMeter +1;\n\t\t\t\t\t// メーターがメーター最大値以上になった場合、メーターを初期化し、プレイ可能時間を延長する。\n\t\t\t\t\tif(bonusCountMeter >= bonusCountMeterMax){\n\t\t\t\t\t\tbonusCountMeter = 0;\n\t\t\t\t\t\t// 初期プレイ時間を更新することで、残りプレイ可能時間を延長する。\n\t\t\t\t\t\tinitialPlayingTimeMSec = initialPlayingTimeMSec +bonusAddPlayTime;\n\t\t\t\t\t\t// 延長した残りプレイ時間を表示する。\n\t\t\t\t\t\tdisplayBonusAddPlayTime.textContent = \"+ \" + Math.ceil(bonusAddPlayTime/1000) + \"秒\";\n\t\t\t\t\t\t// 延長した残りプレイ時間をフェードアウトする。\n\t\t\t\t\t\tdisplayBonusAddPlayTime.classList.add('fadeout');\n\t\t\t\t\t\t// fadeoutのclassを取り除くことで、2回目以降も延長した残りプレイ時間が表示されるようにする。\n\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tdisplayBonusAddPlayTime.textContent = \"\";\n\t\t\t\t\t\tdisplayBonusAddPlayTime.classList.remove('fadeout');\n\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t};\n\t\t\t\t\t// 更新したメーターを表示する。\n\t\t\t\t\tdocument.getElementById(\"meterImg\").src=imgArray[bonusCountMeter];\n\n\t\t\t\t\t// 表示文字全てタイプした場合、スコアアップ処理を実施し、次の表示文字を作成する処理を実施する。\n\t\t\t\t\tif(charArrayInDisplayWordJap.length === 0) {\n\t\t\t\t\t\t// 正解音を定義する。\n\t\t\t\t\t\t// 正解音ありの場合のみ\n\t\t\t\t\t\tif (correctAudioMode == \"正解音あり\") {\n\t\t\t\t\t\t\tlet correctAudio = new Audio('/assets/correctAudio.mp3');\n\t\t\t\t\t\t\t// 正解した場合、効果音を発生させる。\n\t\t\t\t\t\t\tcorrectAudio.volume = 0.3;\n\t\t\t\t\t\t\tcorrectAudio.play();\n\t\t\t\t\t\t};\n\t\t\t\t\t\t// 「答えを見る」を押していなければ、スコアと正解数をカウントアップする。\n\t\t\t\t\t\tif (answerOpenFlag == \"0\"){\n\t\t\t\t\t\t\t// プレイモード：練習・普通の場合のみ、スコアアップする。\n\t\t\t\t\t\t\tif ( playMode == \"練習\" || playMode == \"普通\") {\n\t\t\t\t\t\t\t\t//countUpScore(); // スコアアップ処理を不要とする。\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcountUpCorrectNum();\n\n\t\t\t\t\t\t\t// 「答えを見る」を押していない場合、正解として記録する。\n\t\t\t\t\t\t\tallQuestionWords.splice(allQuestionWords.length - 2, 1, \"正解\");\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// 「答えを見る」を押していれば、フラグを0に戻す。\n\t\t\t\t\t\t\tanswerOpenFlag = \"0\";\n\n\t\t\t\t\t\t\t// 「答えを見る」を押している場合、不正解として記録する。\n\t\t\t\t\t\t\tallQuestionWords.splice(allQuestionWords.length - 2, 1, \"不正解\");\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// 解答するまでにかかった時間を記録する。\n\t\t\t\t\t\teachQuestionAnswerTime = Math.ceil((Date.now() - eachQuestionCreateTime)/1000);\n\t\t\t\t\t\tlet eachQuestionAnswerMin = Math.floor(eachQuestionAnswerTime / 60);\n\t\t\t\t\t\tlet eachQuestionAnswerSec = Math.ceil(eachQuestionAnswerTime % 60);\n\t\t\t\t\t\tallQuestionWords.splice(allQuestionWords.length - 1, 1, `${(`0${eachQuestionAnswerMin}` ).slice( -2 )}:${(`0${eachQuestionAnswerSec}` ).slice( -2 )}`);\n\n\n\t\t\t\t\t\t// 出題したすべての英単語リストに追加する。\n\t\t\t\t\t\tallQuestionWordsList.push(allQuestionWords);\n\n\t\t\t\t\t\t// 丸を表示、答えを表示するなどのアニメーションを実施する。\n\t\t\t\t\t\tcircleImg.classList.add('circle');\n\t\t\t\t\t\tcircleImg.classList.remove('transparent');\n\t\t\t\t\t\tdisplayWordKanji.classList.add('add_gray');\n\t\t\t\t\t\tdisplayWordKanji.classList.add('displayWordKanji');\n\t\t\t\t\t\tdisplayWordKanji.classList.remove('transparent');\n\t\t\t\t\t\tsetTimeout(createDisplayWord,500);\n\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tcircleImg.classList.add('transparent');\n\t\t\t\t\t\tcircleImg.classList.remove('circle');\n\t\t\t\t\t\t}, 500);\n\n\t\t\t\t\t\tif (playMode == \"タイムアタック\" && gameCompleteTimeAttackFlag == \"1\") {\n\t\t\t\t\t\t\t// プレイモード：タイムアタックの場合、最後の問題に解答できた瞬間にフラグを２に更新する。\n\t\t\t\t\t\t\tgameCompleteTimeAttackFlag = \"2\";\n\t\t\t\t\t\t\tgameClose();\n\t\t\t\t\t\t};\n\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t\t// 以上、タイプした文字が解答文字と一致する場合の共通処理を定義する。-----------------------------\n\t\t\t\t// ------------------------------------------------------------------------------------\n\n\n\t\t\t\t// 以下、タイプした文字が表示文字と不一致の場合の処理を定義する。--------------------------------\n\t\t\t\t// ------------------------------------------------------------------------------------\n\t\t\t\tfunction typeMissAudio(){\n\t\t\t\t\t// ミス音を定義する。\n\t\t\t\t\t// ミス音ありの場合のみ\n\t\t\t\t\tif (incorrectAudioMode == \"ミス音あり\") {\n\t\t\t\t\t\tlet incorrectAudio = new Audio('/assets/incorrectAudio.mp3');\n\t\t\t\t\t\t// ミスの場合、効果音を発生させる。\n\t\t\t\t\t\tincorrectAudio.volume = 0.3;\n\t\t\t\t\t\tincorrectAudio.play();\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t\t// 以上、タイプした文字が表示文字と不一致の場合の処理を定義する。--------------------------------\n\t\t\t\t// ------------------------------------------------------------------------------------\n\n\n\t\t\t\t// 以下、英単語を生成した際に、発音させる処理を定義する。---------------------------------------\n\t\t\t\t// ------------------------------------------------------------------------------------\n\t\t\t\tfunction pronounce(eng_word){\n\t\t\t\t\t// résuméの場合は音声ファイルの検索ができないため、ファイルを変更\n\t\t\t\t\tif (eng_word == \"résumé\"){\n\t\t\t\t\t\teng_word = \"rezumei\";\n\t\t\t\t\t};\n\t\t\t\t\tlet pronunciation = new Audio('/assets/発音/'+ eng_word + '.mp3');\n\t\t\t\t\tpronunciation.play();\n\t\t\t\t};\n\t\t\t\t// 以上、英単語を生成した際に、発音させる処理を定義する。---------------------------------------\n\t\t\t\t// ------------------------------------------------------------------------------------\n\n\t\t\t};\n};\n"]},"metadata":{},"sourceType":"module"}
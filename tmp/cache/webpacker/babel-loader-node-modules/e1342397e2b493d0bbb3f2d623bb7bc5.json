{"ast":null,"code":"//'use strict';\nvar p = document.getElementById(\"text\");\nvar textLists = [\"aaa\", \"bbb\", \"ccc\", \"ddd\", \"eeeeee\", \"ffffff\", \"gggggg\", \"hhhhhh\"];\nvar checkTexts = [];\ncreateText();\n\nfunction createText() {\n  p.textContent = \"\";\n  var rnd = Math.floor(Math.random() * textLists.length);\n  checkTexts = textLists[rnd].split(\"\").map(function (value) {\n    var spanValue = document.createElement(\"span\");\n    spanValue.textContent = value;\n    p.appendChild(spanValue);\n    console.log(spanValue);\n    return spanValue;\n  });\n}\n\nvar time = document.getElementById(\"time\");\nvar playingTime = 6000;\nvar closePopup = document.getElementById(\"closePopup\");\nvar endFlag = \"0\";\nvar startTime = Date.now();\n\nvar countDown = function countDown() {\n  var currentTime = Date.now();\n  var difference = currentTime - startTime;\n  var remainMSec = playingTime - difference;\n  var remainSec = Math.ceil(remainMSec / 1000);\n  var label = \"\\u6B8B\\u308A\".concat(remainSec, \"\\u79D2\");\n\n  if (remainMSec <= 0) {\n    clearInterval(timerId);\n    label = \"\";\n    var totalScore = score - addPoint;\n    point.textContent = \"\";\n    point.className = \"transparent\";\n    p.textContent = \"\";\n    p.className = \"transparent\";\n    endFlag = \"1\";\n    closePopup.textContent = \"終了\";\n    closePopup.className = \"closePopup\";\n    setTimeout(function () {\n      closePopup.textContent = \"\\u3042\\u306A\\u305F\\u306E\\u5F97\\u70B9\\u306F\".concat(totalScore, \"\\u70B9\\u3067\\u3059!\");\n      closePopup.className = \"endPopup\";\n    }, 1000);\n  }\n\n  time.textContent = label;\n};\n\nsetTimeout(countDown, 0);\nvar timerId = setInterval(countDown, 1000);\nvar point = document.getElementById(\"point\");\nvar score = 0;\nvar textLength = 4;\nvar addPointLevel1 = 1;\nvar addPointLevel2 = 3;\nsetTimeout(countPoint, 0);\n\nfunction countPoint() {\n  point.textContent = score;\n\n  if (checkTexts.length < textLength) {\n    addPoint = addPointLevel1;\n  } else {\n    addPoint = addPointLevel2;\n  }\n\n  score = score + addPoint;\n  return score;\n}\n\ndocument.addEventListener(\"keydown\", keyDown);\nvar bonusCount = 0;\nvar bonusCountMax = 10;\n\nfunction keyDown(e) {\n  if (e.key === checkTexts[0].textContent && endFlag === \"0\") {\n    checkTexts[0].className = \"add_red\";\n    bonusCount = bonusCount + 1;\n    checkTexts.shift();\n\n    if (bonusCount >= bonusCountMax) {\n      playingTime = playingTime + 3000;\n      bonusCount = 0;\n    }\n\n    if (checkTexts.length === 0) createText(), countPoint();\n  } else if (endFlag === \"0\") {\n    bonusCount = 0;\n  }\n\n  document.getElementById(\"meterImg\").src = imgArray[bonusCount];\n}\n\nvar imgArray = [\"./メーターPNG/メーター0.png\", \"./メーターPNG/メーター10.png\", \"./メーターPNG/メーター20.png\", \"./メーターPNG/メーター30.png\", \"./メーターPNG/メーター40.png\", \"./メーターPNG/メーター50.png\", \"./メーターPNG/メーター60.png\", \"./メーターPNG/メーター70.png\", \"./メーターPNG/メーター80.png\", \"./メーターPNG/メーター90.png\", \"./メーターPNG/メーター100.png\"];\ndocument.getElementById(\"meterImg\").src = imgArray[bonusCount];","map":{"version":3,"sources":["/Users/mondenhiroki/projects/eigomonster/app/javascript/packs/typingplay.js"],"names":["p","document","getElementById","textLists","checkTexts","createText","textContent","rnd","Math","floor","random","length","split","map","value","spanValue","createElement","appendChild","console","log","time","playingTime","closePopup","endFlag","startTime","Date","now","countDown","currentTime","difference","remainMSec","remainSec","ceil","label","clearInterval","timerId","totalScore","score","addPoint","point","className","setTimeout","setInterval","textLength","addPointLevel1","addPointLevel2","countPoint","addEventListener","keyDown","bonusCount","bonusCountMax","e","key","shift","src","imgArray"],"mappings":"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","sourcesContent":["//'use strict';\n\nconst p = document.getElementById(\"text\");\nconst textLists = [\n  \"aaa\",\n  \"bbb\",\n  \"ccc\",\n  \"ddd\",\n  \"eeeeee\",\n  \"ffffff\",\n  \"gggggg\",\n  \"hhhhhh\"\n];\n\nlet checkTexts =[];\n\ncreateText();\n\nfunction createText(){\n  p.textContent = \"\";\n\n  let rnd = Math.floor(Math.random() * textLists.length);\n\n  checkTexts = textLists[rnd].split(\"\").map(function(value){\n      let spanValue = document.createElement(\"span\");\n      spanValue.textContent = value;\n      p.appendChild(spanValue);\n      console.log(spanValue);\n      return spanValue;\n     });\n}\n\n\nlet time = document.getElementById(\"time\");\n\nlet playingTime = 6000;\n\nconst closePopup = document.getElementById(\"closePopup\");\n\nlet endFlag = \"0\";\n\nconst startTime = Date.now();\nconst countDown = function(){\n  const currentTime = Date.now();\n  const difference = currentTime - startTime;\n  const remainMSec = playingTime - difference;\n  const remainSec = Math.ceil(remainMSec/1000);\n  let  label = `残り${remainSec}秒`;\n  if (remainMSec <= 0){\n    clearInterval(timerId);\n    label = \"\";\n    const totalScore = score - addPoint;\n    point.textContent =\"\";\n    point.className = \"transparent\";\n    p.textContent =\"\";\n    p.className =\"transparent\";\n\n    endFlag = \"1\";\n\n    closePopup.textContent =\"終了\";\n    closePopup.className = \"closePopup\";\n    setTimeout(function(){\n      closePopup.textContent = `あなたの得点は${totalScore}点です!`;\n      closePopup.className = \"endPopup\";\n    },1000);\n    }\n    time.textContent = label;\n\n}\n\nsetTimeout(countDown,0);\nconst timerId = setInterval(countDown,1000);\n\n\n\nlet point = document.getElementById(\"point\");\n\nlet score = 0;\n\nconst textLength = 4;\nconst addPointLevel1 = 1;\nconst addPointLevel2 = 3;\n\nsetTimeout(countPoint,0);\n\nfunction countPoint(){\n  point.textContent = score;\n    if (checkTexts.length < textLength){\n      addPoint = addPointLevel1;\n    } else{\n      addPoint = addPointLevel2;\n    }\n  score = score + addPoint;\n  return score;\n}\n\n\ndocument.addEventListener(`keydown`, keyDown);\n\nlet bonusCount = 0;\nconst bonusCountMax = 10;\n\n\nfunction keyDown(e){\nif(e.key === checkTexts[0].textContent && endFlag===\"0\") {\n    checkTexts[0].className = \"add_red\";\n    bonusCount = bonusCount +1;\n\n    checkTexts.shift();\n\n    if(bonusCount >= bonusCountMax){\n      playingTime = playingTime +3000;\n      bonusCount =0;\n    }\n\n    if(checkTexts.length === 0) createText(),countPoint();\n  } else if(endFlag===\"0\"){\n    bonusCount =0;\n  }\n     document.getElementById(\"meterImg\").src=imgArray[bonusCount];\n   }\n\nconst imgArray =[\n  \"./メーターPNG/メーター0.png\",\n  \"./メーターPNG/メーター10.png\",\n  \"./メーターPNG/メーター20.png\",\n  \"./メーターPNG/メーター30.png\",\n  \"./メーターPNG/メーター40.png\",\n  \"./メーターPNG/メーター50.png\",\n  \"./メーターPNG/メーター60.png\",\n  \"./メーターPNG/メーター70.png\",\n  \"./メーターPNG/メーター80.png\",\n  \"./メーターPNG/メーター90.png\",\n  \"./メーターPNG/メーター100.png\"\n]\n\ndocument.getElementById(\"meterImg\").src=imgArray[bonusCount];\n"]},"metadata":{},"sourceType":"module"}
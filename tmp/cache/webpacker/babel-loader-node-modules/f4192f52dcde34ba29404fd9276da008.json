{"ast":null,"code":"window.addEventListener('load', function () {\n  var wordList = [\"aaa\", \"bbb\", \"ccc\", \"ddd\", \"eeeeee\", \"ffffff\", \"gggggg\", \"hhhhhh\"];\n  var displayWord = document.getElementById(\"displayWord\");\n  var checkTexts = [];\n  createText();\n\n  function createText() {\n    // 表示単語を初期化する。\n    displayWord.textContent = \"\"; // 0〜textListsの総数の整数値をランダムで算出する。\n\n    var randomIntegerInTotalWordList = Math.floor(Math.random() * textLists.length);\n    checkTexts = textLists[randomIntegerInTotalWordList].split(\"\").map(function (value) {\n      var spanValue = document.createElement(\"span\");\n      spanValue.textContent = value;\n      p.appendChild(spanValue);\n      console.log(spanValue);\n      return spanValue;\n    });\n  }\n\n  var time = document.getElementById(\"time\");\n  var playingTime = 6000;\n  var closePopup = document.getElementById(\"closePopup\");\n  var endFlag = \"0\";\n  var startTime = Date.now();\n\n  var countDown = function countDown() {\n    var currentTime = Date.now();\n    var difference = currentTime - startTime;\n    var remainMSec = playingTime - difference;\n    var remainSec = Math.ceil(remainMSec / 1000);\n    var label = \"\\u6B8B\\u308A\".concat(remainSec, \"\\u79D2\");\n\n    if (remainMSec <= 0) {\n      clearInterval(timerId);\n      label = \"\";\n      var totalScore = score - addPoint;\n      point.textContent = \"\";\n      point.className = \"transparent\";\n      p.textContent = \"\";\n      p.className = \"transparent\";\n      endFlag = \"1\";\n      closePopup.textContent = \"終了\";\n      closePopup.className = \"closePopup\";\n      setTimeout(function () {\n        closePopup.textContent = \"\\u3042\\u306A\\u305F\\u306E\\u5F97\\u70B9\\u306F\".concat(totalScore, \"\\u70B9\\u3067\\u3059!\");\n        closePopup.className = \"endPopup\";\n      }, 1000);\n    }\n\n    time.textContent = label;\n  };\n\n  setTimeout(countDown, 0);\n  var timerId = setInterval(countDown, 1000);\n  var point = document.getElementById(\"point\");\n  var score = 0;\n  var textLength = 4;\n  var addPointLevel1 = 1;\n  var addPointLevel2 = 3;\n  setTimeout(countPoint, 0);\n\n  function countPoint() {\n    point.textContent = score;\n\n    if (checkTexts.length < textLength) {\n      addPoint = addPointLevel1;\n    } else {\n      addPoint = addPointLevel2;\n    }\n\n    score = score + addPoint;\n    return score;\n  }\n\n  document.addEventListener(\"keydown\", keyDown);\n  var bonusCount = 0;\n  var bonusCountMax = 10;\n\n  function keyDown(e) {\n    if (e.key === checkTexts[0].textContent && endFlag === \"0\") {\n      checkTexts[0].className = \"add_red\";\n      bonusCount = bonusCount + 1;\n      checkTexts.shift();\n\n      if (bonusCount >= bonusCountMax) {\n        playingTime = playingTime + 3000;\n        bonusCount = 0;\n      }\n\n      if (checkTexts.length === 0) createText(), countPoint();\n    } else if (endFlag === \"0\") {\n      bonusCount = 0;\n    }\n\n    document.getElementById(\"meterImg\").src = imgArray[bonusCount];\n  }\n\n  var imgArray = ['/assets/メーターPNG/メーター0.png', '/assets/メーターPNG/メーター10.png', '/assets/メーターPNG/メーター20.png', '/assets/メーターPNG/メーター30.png', '/assets/メーターPNG/メーター40.png', '/assets/メーターPNG/メーター50.png', '/assets/メーターPNG/メーター60.png', '/assets/メーターPNG/メーター70.png', '/assets/メーターPNG/メーター80.png', '/assets/メーターPNG/メーター90.png', '/assets/メーターPNG/メーター100.png'];\n  document.getElementById(\"meterImg\").src = imgArray[bonusCount];\n});","map":{"version":3,"sources":["/Users/mondenhiroki/projects/eigomonster/app/javascript/packs/typingplay.js"],"names":["window","addEventListener","wordList","displayWord","document","getElementById","checkTexts","createText","textContent","randomIntegerInTotalWordList","Math","floor","random","textLists","length","split","map","value","spanValue","createElement","p","appendChild","console","log","time","playingTime","closePopup","endFlag","startTime","Date","now","countDown","currentTime","difference","remainMSec","remainSec","ceil","label","clearInterval","timerId","totalScore","score","addPoint","point","className","setTimeout","setInterval","textLength","addPointLevel1","addPointLevel2","countPoint","keyDown","bonusCount","bonusCountMax","e","key","shift","src","imgArray"],"mappings":"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","sourcesContent":["window.addEventListener('load', function(){\n\n const wordList = [\n   \"aaa\",\n   \"bbb\",\n   \"ccc\",\n   \"ddd\",\n   \"eeeeee\",\n   \"ffffff\",\n   \"gggggg\",\n   \"hhhhhh\"\n ];\n\n\nconst displayWord = document.getElementById(\"displayWord\");\nlet checkTexts =[];\ncreateText();\n\n\nfunction createText(){\n  // 表示単語を初期化する。\n  displayWord.textContent = \"\";\n  // 0〜textListsの総数の整数値をランダムで算出する。\n  let randomIntegerInTotalWordList = Math.floor(Math.random() * textLists.length);\n  \n  checkTexts = textLists[randomIntegerInTotalWordList].split(\"\").map(function(value){\n      let spanValue = document.createElement(\"span\");\n      spanValue.textContent = value;\n      p.appendChild(spanValue);\n      console.log(spanValue);\n      return spanValue;\n     });\n}\n\n\nlet time = document.getElementById(\"time\");\n\nlet playingTime = 6000;\n\nconst closePopup = document.getElementById(\"closePopup\");\n\nlet endFlag = \"0\";\n\nconst startTime = Date.now();\nconst countDown = function(){\n  const currentTime = Date.now();\n  const difference = currentTime - startTime;\n  const remainMSec = playingTime - difference;\n  const remainSec = Math.ceil(remainMSec/1000);\n  let  label = `残り${remainSec}秒`;\n  if (remainMSec <= 0){\n    clearInterval(timerId);\n    label = \"\";\n    const totalScore = score - addPoint;\n    point.textContent =\"\";\n    point.className = \"transparent\";\n    p.textContent =\"\";\n    p.className =\"transparent\";\n\n    endFlag = \"1\";\n\n    closePopup.textContent =\"終了\";\n    closePopup.className = \"closePopup\";\n    setTimeout(function(){\n      closePopup.textContent = `あなたの得点は${totalScore}点です!`;\n      closePopup.className = \"endPopup\";\n    },1000);\n    }\n    time.textContent = label;\n\n}\n\nsetTimeout(countDown,0);\nconst timerId = setInterval(countDown,1000);\n\n\n\nlet point = document.getElementById(\"point\");\n\nlet score = 0;\n\nconst textLength = 4;\nconst addPointLevel1 = 1;\nconst addPointLevel2 = 3;\n\nsetTimeout(countPoint,0);\n\nfunction countPoint(){\n  point.textContent = score;\n    if (checkTexts.length < textLength){\n      addPoint = addPointLevel1;\n    } else{\n      addPoint = addPointLevel2;\n    }\n  score = score + addPoint;\n  return score;\n}\n\n\ndocument.addEventListener(`keydown`, keyDown);\n\nlet bonusCount = 0;\nconst bonusCountMax = 10;\n\n\nfunction keyDown(e){\nif(e.key === checkTexts[0].textContent && endFlag===\"0\") {\n    checkTexts[0].className = \"add_red\";\n    bonusCount = bonusCount +1;\n\n    checkTexts.shift();\n\n    if(bonusCount >= bonusCountMax){\n      playingTime = playingTime +3000;\n      bonusCount =0;\n    }\n\n    if(checkTexts.length === 0) createText(),countPoint();\n  } else if(endFlag===\"0\"){\n    bonusCount =0;\n  }\n      document.getElementById(\"meterImg\").src=imgArray[bonusCount];\n   }\n\n const imgArray =[\n   '/assets/メーターPNG/メーター0.png',\n   '/assets/メーターPNG/メーター10.png',\n   '/assets/メーターPNG/メーター20.png',\n   '/assets/メーターPNG/メーター30.png',\n   '/assets/メーターPNG/メーター40.png',\n   '/assets/メーターPNG/メーター50.png',\n   '/assets/メーターPNG/メーター60.png',\n   '/assets/メーターPNG/メーター70.png',\n   '/assets/メーターPNG/メーター80.png',\n   '/assets/メーターPNG/メーター90.png',\n   '/assets/メーターPNG/メーター100.png'\n ]\n\n document.getElementById(\"meterImg\").src=imgArray[bonusCount];\n\n})\n"]},"metadata":{},"sourceType":"module"}